{"version":3,"sources":["ng2-completer.umd.js"],"names":["global","factory","exports","module","require","define","amd","ng2","completer","ng","core","Rx","Observable","prototype","common","http","forms","this","operators","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","create","isFunction","x","_enable_super_gross_mode_that_will_cause_bad_things","config","Promise","undefined","useDeprecatedSynchronousErrorHandling","value","Error","stack","hostReportError","err","setTimeout","empty","closed","next","error","complete","isArray","length","isObject","tryCatchTarget","errorObject","e","tryCatcher","apply","arguments","tryCatch","fn","UnsubscriptionError","_super","errors","_this","call","map","i","toString","join","name","Subscription","unsubscribe","_parent","_parents","_subscriptions","_unsubscribe","hasErrors","index","len","remove","flattenUnsubscriptionErrors","sub","concat","push","add","teardown","EMPTY","subscription","_addParent","tmp","subscriptions","subscriptionIndex","indexOf","splice","parent","reduce","errs","rxSubscriber","Symbol","for","Subscriber","destinationOrNext","syncErrorValue","syncErrorThrown","syncErrorThrowable","isStopped","destination","isTrustedSubscriber","trustedSubscriber","SafeSubscriber","subscriber","_next","_error","_complete","_unsubscribeAndRecycle","_parentSubscriber","observerOrNext","context","bind","_context","__tryOrSetError","__tryOrUnsub","wrappedComplete","obj","observable","noop","subscribe","_isScalar","_subscribe","lift","operator","observable$$1","source","sink","nextOrObserver","toSubscriber","_trySubscribe","forEach","promiseCtor","getPromiseCtor","resolve","reject","pipe","operations","_i","fns","input","prev","pipeFromArray","toPromise","ObjectUnsubscribedError","SubjectSubscription","subject","observers","subscriberIndex","SubjectSubscriber","Subject","hasError","thrownError","AnonymousSubject","copy","slice","asObservable","AsyncAction","scheduler","work","pending","schedule","state","delay","id","recycleAsyncId","requestAsyncId","setInterval","flush","clearInterval","execute","_execute","errored","errorValue","actions","Action","Scheduler","SchedulerAction","now","Date","AsyncScheduler","delegate","active","scheduled","action","shift","isScheduler","async","isNumeric","val","parseFloat","timer","dueTime","periodOrScheduler","period","Number","due","dispatch$7","isNil","noop$1","CompleterBaseData","_searchFields","_titleField","_descriptionField","_imageField","cancel","searchFields","titleField","descriptionField","imageField","convertToItem","data","formattedText","image","formattedDesc","extractTitle","JSON","stringify","extractValue","description","originalObject","title","extractMatches","term","split","filter","item","extractBySearchFields","some","toLowerCase","field","acc","titlePart","key","result","keys_1","processResults","matches","results","searchField","LocalData","dataSourceChange","EventEmitter","_data","savedTerm","catchError","res","search","emit","RemoteData","http$$1","_remoteUrl","remoteSearch","_urlFormater","_dataField","remoteUrl","urlFormater","dataField","requestOptions","_requestOptions","url","encodeURIComponent","get","assign","LocalDataFactory","decorators","type","Injectable","RemoteDataFactory","ctorParameters","HttpClient","CompleterService","localDataFactory","remoteDataFactory","local","remote","CtrCompleter","selected","highlighted","opened","list","dropdown","_hasHighlighted","_hasSelected","_cancelBlur","_isOpen","_autoHighlightIndex","registerList","registerDropdown","onHighlighted","onSelected","clearList","clear","onDataSourceChange","hasSelected","isOpen","selectCurrent","nextRow","prevRow","hasHighlighted","cancelBlur","isCancelBlur","open","defineProperty","set","enumerable","configurable","highlightRow","Directive","args","selector","propDecorators","Output","CtrRowItem","row","CtrDropdown","el","zone","rows","isScrollOn","_rowMouseDown","ngOnDestroy","ngAfterViewInit","css","getComputedStyle","nativeElement","autoHighlightIndex","maxHeight","overflowY","run","onMouseDown","event","registerRow","arrIndex","findIndex","_row","unregisterRow","rowIndex","currHighlighted","find","setHighlighted","getDataItem","rowTop","dropdownRowTop","dropdownScrollTopTo","getNativeElement","dropdownHeight","getBoundingClientRect","bottom","dropdownRowOffsetHeight","top","parseInt","rowMouseDown","nextRowIndex","offset","scrollTop","parentElement","offsetHeight","Host","ElementRef","NgZone","HostListener","CtrInput","ngModel","clearSelected","clearUnselected","overrideSuggested","fillHighlighted","openOnFocus","openOnClick","selectOnClick","selectOnFocus","ngModelChange","_searchStr","_displayStr","blurTimer","searchStr","valueChanges","keyupHandler","keyCode","preventDefault","restoreSearchValue","stopPropagation","pasteHandler","keydownHandler","which","handleSelection","ctrlKey","metaKey","altKey","onBlur","focus","take","doBlur","onfocus","select","onClick","NgModel","Input","CtrListContext","searching","searchInitialized","CtrList","templateRef","viewContainer","cd","ctrListMinSearchLength","ctrListPause","ctrListAutoMatch","ctrListAutoHighlight","ctrListDisplaySearching","_dataService","searchTimer","clearTimer","ctx","_initialValue","viewRef","ngOnInit","createEmbeddedView","newService","dataServiceSubscribe","initialItem","refreshTemplate","searchTimerComplete","_clear","dataService","destroyed","detectChanges","markForCheck","getBestMatchIndex","bestMatch","toLocaleLowerCase","startsWith","includes","console","TemplateRef","ViewContainerRef","ChangeDetectorRef","initialValue","CtrRow","renderer","_rowIndex","_item","onMouseEnter","setElementClass","Renderer","ctrRow","dataItem","CompleterListItemCmp","text","matchClass","parts","matchStr","matchPos","startIndex","matchText","isMatch","matchPart","Component","template","COMPLETER_CONTROL_VALUE_ACCESSOR","multi","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","CompleterCmp","completerService","cdr","inputName","inputId","pause","minSearchLength","maxChars","placeholder","autoMatch","disableInput","autofocus","autoHighlight","blurEvent","click","focusEvent","keyup","keydown","control","FormControl","displaySearching","displayNoResults","_textNoResults","_textSearching","_onTouchedCallback","_onChangeCallback","_focus","_open","v","ngAfterViewChecked","ctrInput","onTouched","writeValue","registerOnChange","registerOnTouched","setDisabledState","isDisabled","onFocus","onKeyup","onKeydown","onChange","close","blur","styles","providers","fieldTabindex","inputClass","ViewChild","datasource","textNoResults","textSearching","Ng2CompleterModule","forRoot","ngModule","forChild","NgModule","declarations","imports","CommonModule","FormsModule","ɵa","ɵb"],"mappings":"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","file":"ng2-completer.umd.min.js.map","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('rxjs/operators'), require('@angular/common/http'), require('@angular/forms'), require('@angular/common')) :\n    typeof define === 'function' && define.amd ? define(['exports', '@angular/core', 'rxjs/operators', '@angular/common/http', '@angular/forms', '@angular/common'], factory) :\n    (factory((global.ng2 = global.ng2 || {}, global.ng2.completer = {}),global.ng.core,global.Rx.Observable.prototype,global.ng.common.http,global.ng.forms,global.ng.common));\n}(this, (function (exports,core,operators,http,forms,common) { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics = function(d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n\r\n    function __extends(d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    function isFunction(x) {\n        return typeof x === 'function';\n    }\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    var _enable_super_gross_mode_that_will_cause_bad_things = false;\n    var config = {\n        Promise: undefined,\n        set useDeprecatedSynchronousErrorHandling(value) {\n            if (value) {\n                var error = /*@__PURE__*/ new Error();\n                /*@__PURE__*/ console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n            }\n            else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n                /*@__PURE__*/ console.log('RxJS: Back to a better error behavior. Thank you. <3');\n            }\n            _enable_super_gross_mode_that_will_cause_bad_things = value;\n        },\n        get useDeprecatedSynchronousErrorHandling() {\n            return _enable_super_gross_mode_that_will_cause_bad_things;\n        },\n    };\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    function hostReportError(err) {\n        setTimeout(function () { throw err; });\n    }\n\n    /** PURE_IMPORTS_START _config,_util_hostReportError PURE_IMPORTS_END */\n    var empty = {\n        closed: true,\n        next: function (value) { },\n        error: function (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            else {\n                hostReportError(err);\n            }\n        },\n        complete: function () { }\n    };\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    var isArray = Array.isArray || (function (x) { return x && typeof x.length === 'number'; });\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    function isObject(x) {\n        return x != null && typeof x === 'object';\n    }\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    var errorObject = { e: {} };\n\n    /** PURE_IMPORTS_START _errorObject PURE_IMPORTS_END */\n    var tryCatchTarget;\n    function tryCatcher() {\n        try {\n            return tryCatchTarget.apply(this, arguments);\n        }\n        catch (e) {\n            errorObject.e = e;\n            return errorObject;\n        }\n    }\n    function tryCatch(fn) {\n        tryCatchTarget = fn;\n        return tryCatcher;\n    }\n\n    /** PURE_IMPORTS_START tslib PURE_IMPORTS_END */\n    var UnsubscriptionError = /*@__PURE__*/ (function (_super) {\n        __extends(UnsubscriptionError, _super);\n        function UnsubscriptionError(errors) {\n            var _this = _super.call(this, errors ?\n                errors.length + \" errors occurred during unsubscription:\\n  \" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ') : '') || this;\n            _this.errors = errors;\n            _this.name = 'UnsubscriptionError';\n            Object.setPrototypeOf(_this, UnsubscriptionError.prototype);\n            return _this;\n        }\n        return UnsubscriptionError;\n    }(Error));\n\n    /** PURE_IMPORTS_START _util_isArray,_util_isObject,_util_isFunction,_util_tryCatch,_util_errorObject,_util_UnsubscriptionError PURE_IMPORTS_END */\n    var Subscription = /*@__PURE__*/ (function () {\n        function Subscription(unsubscribe) {\n            this.closed = false;\n            this._parent = null;\n            this._parents = null;\n            this._subscriptions = null;\n            if (unsubscribe) {\n                this._unsubscribe = unsubscribe;\n            }\n        }\n        Subscription.prototype.unsubscribe = function () {\n            var hasErrors = false;\n            var errors;\n            if (this.closed) {\n                return;\n            }\n            var _a = this, _parent = _a._parent, _parents = _a._parents, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n            this.closed = true;\n            this._parent = null;\n            this._parents = null;\n            this._subscriptions = null;\n            var index = -1;\n            var len = _parents ? _parents.length : 0;\n            while (_parent) {\n                _parent.remove(this);\n                _parent = ++index < len && _parents[index] || null;\n            }\n            if (isFunction(_unsubscribe)) {\n                var trial = tryCatch(_unsubscribe).call(this);\n                if (trial === errorObject) {\n                    hasErrors = true;\n                    errors = errors || (errorObject.e instanceof UnsubscriptionError ?\n                        flattenUnsubscriptionErrors(errorObject.e.errors) : [errorObject.e]);\n                }\n            }\n            if (isArray(_subscriptions)) {\n                index = -1;\n                len = _subscriptions.length;\n                while (++index < len) {\n                    var sub = _subscriptions[index];\n                    if (isObject(sub)) {\n                        var trial = tryCatch(sub.unsubscribe).call(sub);\n                        if (trial === errorObject) {\n                            hasErrors = true;\n                            errors = errors || [];\n                            var err = errorObject.e;\n                            if (err instanceof UnsubscriptionError) {\n                                errors = errors.concat(flattenUnsubscriptionErrors(err.errors));\n                            }\n                            else {\n                                errors.push(err);\n                            }\n                        }\n                    }\n                }\n            }\n            if (hasErrors) {\n                throw new UnsubscriptionError(errors);\n            }\n        };\n        Subscription.prototype.add = function (teardown) {\n            if (!teardown || (teardown === Subscription.EMPTY)) {\n                return Subscription.EMPTY;\n            }\n            if (teardown === this) {\n                return this;\n            }\n            var subscription = teardown;\n            switch (typeof teardown) {\n                case 'function':\n                    subscription = new Subscription(teardown);\n                case 'object':\n                    if (subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                        return subscription;\n                    }\n                    else if (this.closed) {\n                        subscription.unsubscribe();\n                        return subscription;\n                    }\n                    else if (typeof subscription._addParent !== 'function') {\n                        var tmp = subscription;\n                        subscription = new Subscription();\n                        subscription._subscriptions = [tmp];\n                    }\n                    break;\n                default:\n                    throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n            }\n            var subscriptions = this._subscriptions || (this._subscriptions = []);\n            subscriptions.push(subscription);\n            subscription._addParent(this);\n            return subscription;\n        };\n        Subscription.prototype.remove = function (subscription) {\n            var subscriptions = this._subscriptions;\n            if (subscriptions) {\n                var subscriptionIndex = subscriptions.indexOf(subscription);\n                if (subscriptionIndex !== -1) {\n                    subscriptions.splice(subscriptionIndex, 1);\n                }\n            }\n        };\n        Subscription.prototype._addParent = function (parent) {\n            var _a = this, _parent = _a._parent, _parents = _a._parents;\n            if (!_parent || _parent === parent) {\n                this._parent = parent;\n            }\n            else if (!_parents) {\n                this._parents = [parent];\n            }\n            else if (_parents.indexOf(parent) === -1) {\n                _parents.push(parent);\n            }\n        };\n        Subscription.EMPTY = (function (empty) {\n            empty.closed = true;\n            return empty;\n        }(new Subscription()));\n        return Subscription;\n    }());\n    function flattenUnsubscriptionErrors(errors) {\n        return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError) ? err.errors : err); }, []);\n    }\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    var rxSubscriber = (typeof Symbol === 'function' && typeof Symbol.for === 'function')\n        ? /*@__PURE__*/ Symbol.for('rxSubscriber')\n        : '@@rxSubscriber';\n\n    /** PURE_IMPORTS_START tslib,_util_isFunction,_Observer,_Subscription,_internal_symbol_rxSubscriber,_config,_util_hostReportError PURE_IMPORTS_END */\n    var Subscriber = /*@__PURE__*/ (function (_super) {\n        __extends(Subscriber, _super);\n        function Subscriber(destinationOrNext, error, complete) {\n            var _this = _super.call(this) || this;\n            _this.syncErrorValue = null;\n            _this.syncErrorThrown = false;\n            _this.syncErrorThrowable = false;\n            _this.isStopped = false;\n            switch (arguments.length) {\n                case 0:\n                    _this.destination = empty;\n                    break;\n                case 1:\n                    if (!destinationOrNext) {\n                        _this.destination = empty;\n                        break;\n                    }\n                    if (typeof destinationOrNext === 'object') {\n                        if (isTrustedSubscriber(destinationOrNext)) {\n                            var trustedSubscriber = destinationOrNext[rxSubscriber]();\n                            _this.syncErrorThrowable = trustedSubscriber.syncErrorThrowable;\n                            _this.destination = trustedSubscriber;\n                            trustedSubscriber.add(_this);\n                        }\n                        else {\n                            _this.syncErrorThrowable = true;\n                            _this.destination = new SafeSubscriber(_this, destinationOrNext);\n                        }\n                        break;\n                    }\n                default:\n                    _this.syncErrorThrowable = true;\n                    _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n                    break;\n            }\n            return _this;\n        }\n        Subscriber.prototype[rxSubscriber] = function () { return this; };\n        Subscriber.create = function (next, error, complete) {\n            var subscriber = new Subscriber(next, error, complete);\n            subscriber.syncErrorThrowable = false;\n            return subscriber;\n        };\n        Subscriber.prototype.next = function (value) {\n            if (!this.isStopped) {\n                this._next(value);\n            }\n        };\n        Subscriber.prototype.error = function (err) {\n            if (!this.isStopped) {\n                this.isStopped = true;\n                this._error(err);\n            }\n        };\n        Subscriber.prototype.complete = function () {\n            if (!this.isStopped) {\n                this.isStopped = true;\n                this._complete();\n            }\n        };\n        Subscriber.prototype.unsubscribe = function () {\n            if (this.closed) {\n                return;\n            }\n            this.isStopped = true;\n            _super.prototype.unsubscribe.call(this);\n        };\n        Subscriber.prototype._next = function (value) {\n            this.destination.next(value);\n        };\n        Subscriber.prototype._error = function (err) {\n            this.destination.error(err);\n            this.unsubscribe();\n        };\n        Subscriber.prototype._complete = function () {\n            this.destination.complete();\n            this.unsubscribe();\n        };\n        Subscriber.prototype._unsubscribeAndRecycle = function () {\n            var _a = this, _parent = _a._parent, _parents = _a._parents;\n            this._parent = null;\n            this._parents = null;\n            this.unsubscribe();\n            this.closed = false;\n            this.isStopped = false;\n            this._parent = _parent;\n            this._parents = _parents;\n            return this;\n        };\n        return Subscriber;\n    }(Subscription));\n    var SafeSubscriber = /*@__PURE__*/ (function (_super) {\n        __extends(SafeSubscriber, _super);\n        function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n            var _this = _super.call(this) || this;\n            _this._parentSubscriber = _parentSubscriber;\n            var next;\n            var context = _this;\n            if (isFunction(observerOrNext)) {\n                next = observerOrNext;\n            }\n            else if (observerOrNext) {\n                next = observerOrNext.next;\n                error = observerOrNext.error;\n                complete = observerOrNext.complete;\n                if (observerOrNext !== empty) {\n                    context = Object.create(observerOrNext);\n                    if (isFunction(context.unsubscribe)) {\n                        _this.add(context.unsubscribe.bind(context));\n                    }\n                    context.unsubscribe = _this.unsubscribe.bind(_this);\n                }\n            }\n            _this._context = context;\n            _this._next = next;\n            _this._error = error;\n            _this._complete = complete;\n            return _this;\n        }\n        SafeSubscriber.prototype.next = function (value) {\n            if (!this.isStopped && this._next) {\n                var _parentSubscriber = this._parentSubscriber;\n                if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._next, value);\n                }\n                else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                    this.unsubscribe();\n                }\n            }\n        };\n        SafeSubscriber.prototype.error = function (err) {\n            if (!this.isStopped) {\n                var _parentSubscriber = this._parentSubscriber;\n                var useDeprecatedSynchronousErrorHandling = config.useDeprecatedSynchronousErrorHandling;\n                if (this._error) {\n                    if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                        this.__tryOrUnsub(this._error, err);\n                        this.unsubscribe();\n                    }\n                    else {\n                        this.__tryOrSetError(_parentSubscriber, this._error, err);\n                        this.unsubscribe();\n                    }\n                }\n                else if (!_parentSubscriber.syncErrorThrowable) {\n                    this.unsubscribe();\n                    if (useDeprecatedSynchronousErrorHandling) {\n                        throw err;\n                    }\n                    hostReportError(err);\n                }\n                else {\n                    if (useDeprecatedSynchronousErrorHandling) {\n                        _parentSubscriber.syncErrorValue = err;\n                        _parentSubscriber.syncErrorThrown = true;\n                    }\n                    else {\n                        hostReportError(err);\n                    }\n                    this.unsubscribe();\n                }\n            }\n        };\n        SafeSubscriber.prototype.complete = function () {\n            var _this = this;\n            if (!this.isStopped) {\n                var _parentSubscriber = this._parentSubscriber;\n                if (this._complete) {\n                    var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                    if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                        this.__tryOrUnsub(wrappedComplete);\n                        this.unsubscribe();\n                    }\n                    else {\n                        this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                        this.unsubscribe();\n                    }\n                }\n                else {\n                    this.unsubscribe();\n                }\n            }\n        };\n        SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n            try {\n                fn.call(this._context, value);\n            }\n            catch (err) {\n                this.unsubscribe();\n                if (config.useDeprecatedSynchronousErrorHandling) {\n                    throw err;\n                }\n                else {\n                    hostReportError(err);\n                }\n            }\n        };\n        SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n            if (!config.useDeprecatedSynchronousErrorHandling) {\n                throw new Error('bad call');\n            }\n            try {\n                fn.call(this._context, value);\n            }\n            catch (err) {\n                if (config.useDeprecatedSynchronousErrorHandling) {\n                    parent.syncErrorValue = err;\n                    parent.syncErrorThrown = true;\n                    return true;\n                }\n                else {\n                    hostReportError(err);\n                    return true;\n                }\n            }\n            return false;\n        };\n        SafeSubscriber.prototype._unsubscribe = function () {\n            var _parentSubscriber = this._parentSubscriber;\n            this._context = null;\n            this._parentSubscriber = null;\n            _parentSubscriber.unsubscribe();\n        };\n        return SafeSubscriber;\n    }(Subscriber));\n    function isTrustedSubscriber(obj) {\n        return obj instanceof Subscriber || ('syncErrorThrowable' in obj && obj[rxSubscriber]);\n    }\n\n    /** PURE_IMPORTS_START _Subscriber,_symbol_rxSubscriber,_Observer PURE_IMPORTS_END */\n    function toSubscriber(nextOrObserver, error, complete) {\n        if (nextOrObserver) {\n            if (nextOrObserver instanceof Subscriber) {\n                return nextOrObserver;\n            }\n            if (nextOrObserver[rxSubscriber]) {\n                return nextOrObserver[rxSubscriber]();\n            }\n        }\n        if (!nextOrObserver && !error && !complete) {\n            return new Subscriber(empty);\n        }\n        return new Subscriber(nextOrObserver, error, complete);\n    }\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    var observable = typeof Symbol === 'function' && Symbol.observable || '@@observable';\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    function noop() { }\n\n    /** PURE_IMPORTS_START _noop PURE_IMPORTS_END */\n    function pipeFromArray(fns) {\n        if (!fns) {\n            return noop;\n        }\n        if (fns.length === 1) {\n            return fns[0];\n        }\n        return function piped(input) {\n            return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n        };\n    }\n\n    /** PURE_IMPORTS_START _util_toSubscriber,_internal_symbol_observable,_util_pipe,_config PURE_IMPORTS_END */\n    var Observable = /*@__PURE__*/ (function () {\n        function Observable(subscribe) {\n            this._isScalar = false;\n            if (subscribe) {\n                this._subscribe = subscribe;\n            }\n        }\n        Observable.prototype.lift = function (operator) {\n            var observable$$1 = new Observable();\n            observable$$1.source = this;\n            observable$$1.operator = operator;\n            return observable$$1;\n        };\n        Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n            var operator = this.operator;\n            var sink = toSubscriber(observerOrNext, error, complete);\n            if (operator) {\n                operator.call(sink, this.source);\n            }\n            else {\n                sink.add(this.source || (config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n                    this._subscribe(sink) :\n                    this._trySubscribe(sink));\n            }\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                if (sink.syncErrorThrowable) {\n                    sink.syncErrorThrowable = false;\n                    if (sink.syncErrorThrown) {\n                        throw sink.syncErrorValue;\n                    }\n                }\n            }\n            return sink;\n        };\n        Observable.prototype._trySubscribe = function (sink) {\n            try {\n                return this._subscribe(sink);\n            }\n            catch (err) {\n                if (config.useDeprecatedSynchronousErrorHandling) {\n                    sink.syncErrorThrown = true;\n                    sink.syncErrorValue = err;\n                }\n                sink.error(err);\n            }\n        };\n        Observable.prototype.forEach = function (next, promiseCtor) {\n            var _this = this;\n            promiseCtor = getPromiseCtor(promiseCtor);\n            return new promiseCtor(function (resolve, reject) {\n                var subscription;\n                subscription = _this.subscribe(function (value) {\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        if (subscription) {\n                            subscription.unsubscribe();\n                        }\n                    }\n                }, reject, resolve);\n            });\n        };\n        Observable.prototype._subscribe = function (subscriber) {\n            var source = this.source;\n            return source && source.subscribe(subscriber);\n        };\n        Observable.prototype[observable] = function () {\n            return this;\n        };\n        Observable.prototype.pipe = function () {\n            var operations = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                operations[_i] = arguments[_i];\n            }\n            if (operations.length === 0) {\n                return this;\n            }\n            return pipeFromArray(operations)(this);\n        };\n        Observable.prototype.toPromise = function (promiseCtor) {\n            var _this = this;\n            promiseCtor = getPromiseCtor(promiseCtor);\n            return new promiseCtor(function (resolve, reject) {\n                var value;\n                _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n            });\n        };\n        Observable.create = function (subscribe) {\n            return new Observable(subscribe);\n        };\n        return Observable;\n    }());\n    function getPromiseCtor(promiseCtor) {\n        if (!promiseCtor) {\n            promiseCtor = config.Promise || Promise;\n        }\n        if (!promiseCtor) {\n            throw new Error('no Promise impl found');\n        }\n        return promiseCtor;\n    }\n\n    /** PURE_IMPORTS_START tslib PURE_IMPORTS_END */\n    var ObjectUnsubscribedError = /*@__PURE__*/ (function (_super) {\n        __extends(ObjectUnsubscribedError, _super);\n        function ObjectUnsubscribedError() {\n            var _this = _super.call(this, 'object unsubscribed') || this;\n            _this.name = 'ObjectUnsubscribedError';\n            Object.setPrototypeOf(_this, ObjectUnsubscribedError.prototype);\n            return _this;\n        }\n        return ObjectUnsubscribedError;\n    }(Error));\n\n    /** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */\n    var SubjectSubscription = /*@__PURE__*/ (function (_super) {\n        __extends(SubjectSubscription, _super);\n        function SubjectSubscription(subject, subscriber) {\n            var _this = _super.call(this) || this;\n            _this.subject = subject;\n            _this.subscriber = subscriber;\n            _this.closed = false;\n            return _this;\n        }\n        SubjectSubscription.prototype.unsubscribe = function () {\n            if (this.closed) {\n                return;\n            }\n            this.closed = true;\n            var subject = this.subject;\n            var observers = subject.observers;\n            this.subject = null;\n            if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n                return;\n            }\n            var subscriberIndex = observers.indexOf(this.subscriber);\n            if (subscriberIndex !== -1) {\n                observers.splice(subscriberIndex, 1);\n            }\n        };\n        return SubjectSubscription;\n    }(Subscription));\n\n    /** PURE_IMPORTS_START tslib,_Observable,_Subscriber,_Subscription,_util_ObjectUnsubscribedError,_SubjectSubscription,_internal_symbol_rxSubscriber PURE_IMPORTS_END */\n    var SubjectSubscriber = /*@__PURE__*/ (function (_super) {\n        __extends(SubjectSubscriber, _super);\n        function SubjectSubscriber(destination) {\n            var _this = _super.call(this, destination) || this;\n            _this.destination = destination;\n            return _this;\n        }\n        return SubjectSubscriber;\n    }(Subscriber));\n    var Subject = /*@__PURE__*/ (function (_super) {\n        __extends(Subject, _super);\n        function Subject() {\n            var _this = _super.call(this) || this;\n            _this.observers = [];\n            _this.closed = false;\n            _this.isStopped = false;\n            _this.hasError = false;\n            _this.thrownError = null;\n            return _this;\n        }\n        Subject.prototype[rxSubscriber] = function () {\n            return new SubjectSubscriber(this);\n        };\n        Subject.prototype.lift = function (operator) {\n            var subject = new AnonymousSubject(this, this);\n            subject.operator = operator;\n            return subject;\n        };\n        Subject.prototype.next = function (value) {\n            if (this.closed) {\n                throw new ObjectUnsubscribedError();\n            }\n            if (!this.isStopped) {\n                var observers = this.observers;\n                var len = observers.length;\n                var copy = observers.slice();\n                for (var i = 0; i < len; i++) {\n                    copy[i].next(value);\n                }\n            }\n        };\n        Subject.prototype.error = function (err) {\n            if (this.closed) {\n                throw new ObjectUnsubscribedError();\n            }\n            this.hasError = true;\n            this.thrownError = err;\n            this.isStopped = true;\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].error(err);\n            }\n            this.observers.length = 0;\n        };\n        Subject.prototype.complete = function () {\n            if (this.closed) {\n                throw new ObjectUnsubscribedError();\n            }\n            this.isStopped = true;\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].complete();\n            }\n            this.observers.length = 0;\n        };\n        Subject.prototype.unsubscribe = function () {\n            this.isStopped = true;\n            this.closed = true;\n            this.observers = null;\n        };\n        Subject.prototype._trySubscribe = function (subscriber) {\n            if (this.closed) {\n                throw new ObjectUnsubscribedError();\n            }\n            else {\n                return _super.prototype._trySubscribe.call(this, subscriber);\n            }\n        };\n        Subject.prototype._subscribe = function (subscriber) {\n            if (this.closed) {\n                throw new ObjectUnsubscribedError();\n            }\n            else if (this.hasError) {\n                subscriber.error(this.thrownError);\n                return Subscription.EMPTY;\n            }\n            else if (this.isStopped) {\n                subscriber.complete();\n                return Subscription.EMPTY;\n            }\n            else {\n                this.observers.push(subscriber);\n                return new SubjectSubscription(this, subscriber);\n            }\n        };\n        Subject.prototype.asObservable = function () {\n            var observable = new Observable();\n            observable.source = this;\n            return observable;\n        };\n        Subject.create = function (destination, source) {\n            return new AnonymousSubject(destination, source);\n        };\n        return Subject;\n    }(Observable));\n    var AnonymousSubject = /*@__PURE__*/ (function (_super) {\n        __extends(AnonymousSubject, _super);\n        function AnonymousSubject(destination, source) {\n            var _this = _super.call(this) || this;\n            _this.destination = destination;\n            _this.source = source;\n            return _this;\n        }\n        AnonymousSubject.prototype.next = function (value) {\n            var destination = this.destination;\n            if (destination && destination.next) {\n                destination.next(value);\n            }\n        };\n        AnonymousSubject.prototype.error = function (err) {\n            var destination = this.destination;\n            if (destination && destination.error) {\n                this.destination.error(err);\n            }\n        };\n        AnonymousSubject.prototype.complete = function () {\n            var destination = this.destination;\n            if (destination && destination.complete) {\n                this.destination.complete();\n            }\n        };\n        AnonymousSubject.prototype._subscribe = function (subscriber) {\n            var source = this.source;\n            if (source) {\n                return this.source.subscribe(subscriber);\n            }\n            else {\n                return Subscription.EMPTY;\n            }\n        };\n        return AnonymousSubject;\n    }(Subject));\n\n    /** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\n    function refCount() {\n        return function refCountOperatorFunction(source) {\n            return source.lift(new RefCountOperator(source));\n        };\n    }\n    var RefCountOperator = /*@__PURE__*/ (function () {\n        function RefCountOperator(connectable) {\n            this.connectable = connectable;\n        }\n        RefCountOperator.prototype.call = function (subscriber, source) {\n            var connectable = this.connectable;\n            connectable._refCount++;\n            var refCounter = new RefCountSubscriber(subscriber, connectable);\n            var subscription = source.subscribe(refCounter);\n            if (!refCounter.closed) {\n                refCounter.connection = connectable.connect();\n            }\n            return subscription;\n        };\n        return RefCountOperator;\n    }());\n    var RefCountSubscriber = /*@__PURE__*/ (function (_super) {\n        __extends(RefCountSubscriber, _super);\n        function RefCountSubscriber(destination, connectable) {\n            var _this = _super.call(this, destination) || this;\n            _this.connectable = connectable;\n            return _this;\n        }\n        RefCountSubscriber.prototype._unsubscribe = function () {\n            var connectable = this.connectable;\n            if (!connectable) {\n                this.connection = null;\n                return;\n            }\n            this.connectable = null;\n            var refCount = connectable._refCount;\n            if (refCount <= 0) {\n                this.connection = null;\n                return;\n            }\n            connectable._refCount = refCount - 1;\n            if (refCount > 1) {\n                this.connection = null;\n                return;\n            }\n            var connection = this.connection;\n            var sharedConnection = connectable._connection;\n            this.connection = null;\n            if (sharedConnection && (!connection || sharedConnection === connection)) {\n                sharedConnection.unsubscribe();\n            }\n        };\n        return RefCountSubscriber;\n    }(Subscriber));\n\n    /** PURE_IMPORTS_START tslib,_Subject,_Observable,_Subscriber,_Subscription,_operators_refCount PURE_IMPORTS_END */\n    var ConnectableObservable = /*@__PURE__*/ (function (_super) {\n        __extends(ConnectableObservable, _super);\n        function ConnectableObservable(source, subjectFactory) {\n            var _this = _super.call(this) || this;\n            _this.source = source;\n            _this.subjectFactory = subjectFactory;\n            _this._refCount = 0;\n            _this._isComplete = false;\n            return _this;\n        }\n        ConnectableObservable.prototype._subscribe = function (subscriber) {\n            return this.getSubject().subscribe(subscriber);\n        };\n        ConnectableObservable.prototype.getSubject = function () {\n            var subject = this._subject;\n            if (!subject || subject.isStopped) {\n                this._subject = this.subjectFactory();\n            }\n            return this._subject;\n        };\n        ConnectableObservable.prototype.connect = function () {\n            var connection = this._connection;\n            if (!connection) {\n                this._isComplete = false;\n                connection = this._connection = new Subscription();\n                connection.add(this.source\n                    .subscribe(new ConnectableSubscriber(this.getSubject(), this)));\n                if (connection.closed) {\n                    this._connection = null;\n                    connection = Subscription.EMPTY;\n                }\n                else {\n                    this._connection = connection;\n                }\n            }\n            return connection;\n        };\n        ConnectableObservable.prototype.refCount = function () {\n            return refCount()(this);\n        };\n        return ConnectableObservable;\n    }(Observable));\n    var ConnectableSubscriber = /*@__PURE__*/ (function (_super) {\n        __extends(ConnectableSubscriber, _super);\n        function ConnectableSubscriber(destination, connectable) {\n            var _this = _super.call(this, destination) || this;\n            _this.connectable = connectable;\n            return _this;\n        }\n        ConnectableSubscriber.prototype._error = function (err) {\n            this._unsubscribe();\n            _super.prototype._error.call(this, err);\n        };\n        ConnectableSubscriber.prototype._complete = function () {\n            this.connectable._isComplete = true;\n            this._unsubscribe();\n            _super.prototype._complete.call(this);\n        };\n        ConnectableSubscriber.prototype._unsubscribe = function () {\n            var connectable = this.connectable;\n            if (connectable) {\n                this.connectable = null;\n                var connection = connectable._connection;\n                connectable._refCount = 0;\n                connectable._subject = null;\n                connectable._connection = null;\n                if (connection) {\n                    connection.unsubscribe();\n                }\n            }\n        };\n        return ConnectableSubscriber;\n    }(SubjectSubscriber));\n    var RefCountSubscriber$1 = /*@__PURE__*/ (function (_super) {\n        __extends(RefCountSubscriber, _super);\n        function RefCountSubscriber(destination, connectable) {\n            var _this = _super.call(this, destination) || this;\n            _this.connectable = connectable;\n            return _this;\n        }\n        RefCountSubscriber.prototype._unsubscribe = function () {\n            var connectable = this.connectable;\n            if (!connectable) {\n                this.connection = null;\n                return;\n            }\n            this.connectable = null;\n            var refCount$$1 = connectable._refCount;\n            if (refCount$$1 <= 0) {\n                this.connection = null;\n                return;\n            }\n            connectable._refCount = refCount$$1 - 1;\n            if (refCount$$1 > 1) {\n                this.connection = null;\n                return;\n            }\n            var connection = this.connection;\n            var sharedConnection = connectable._connection;\n            this.connection = null;\n            if (sharedConnection && (!connection || sharedConnection === connection)) {\n                sharedConnection.unsubscribe();\n            }\n        };\n        return RefCountSubscriber;\n    }(Subscriber));\n\n    /** PURE_IMPORTS_START tslib,_Subscriber,_Subscription,_Observable,_Subject PURE_IMPORTS_END */\n    var GroupBySubscriber = /*@__PURE__*/ (function (_super) {\n        __extends(GroupBySubscriber, _super);\n        function GroupBySubscriber(destination, keySelector, elementSelector, durationSelector, subjectSelector) {\n            var _this = _super.call(this, destination) || this;\n            _this.keySelector = keySelector;\n            _this.elementSelector = elementSelector;\n            _this.durationSelector = durationSelector;\n            _this.subjectSelector = subjectSelector;\n            _this.groups = null;\n            _this.attemptedToUnsubscribe = false;\n            _this.count = 0;\n            return _this;\n        }\n        GroupBySubscriber.prototype._next = function (value) {\n            var key;\n            try {\n                key = this.keySelector(value);\n            }\n            catch (err) {\n                this.error(err);\n                return;\n            }\n            this._group(value, key);\n        };\n        GroupBySubscriber.prototype._group = function (value, key) {\n            var groups = this.groups;\n            if (!groups) {\n                groups = this.groups = new Map();\n            }\n            var group = groups.get(key);\n            var element;\n            if (this.elementSelector) {\n                try {\n                    element = this.elementSelector(value);\n                }\n                catch (err) {\n                    this.error(err);\n                }\n            }\n            else {\n                element = value;\n            }\n            if (!group) {\n                group = (this.subjectSelector ? this.subjectSelector() : new Subject());\n                groups.set(key, group);\n                var groupedObservable = new GroupedObservable(key, group, this);\n                this.destination.next(groupedObservable);\n                if (this.durationSelector) {\n                    var duration = void 0;\n                    try {\n                        duration = this.durationSelector(new GroupedObservable(key, group));\n                    }\n                    catch (err) {\n                        this.error(err);\n                        return;\n                    }\n                    this.add(duration.subscribe(new GroupDurationSubscriber(key, group, this)));\n                }\n            }\n            if (!group.closed) {\n                group.next(element);\n            }\n        };\n        GroupBySubscriber.prototype._error = function (err) {\n            var groups = this.groups;\n            if (groups) {\n                groups.forEach(function (group, key) {\n                    group.error(err);\n                });\n                groups.clear();\n            }\n            this.destination.error(err);\n        };\n        GroupBySubscriber.prototype._complete = function () {\n            var groups = this.groups;\n            if (groups) {\n                groups.forEach(function (group, key) {\n                    group.complete();\n                });\n                groups.clear();\n            }\n            this.destination.complete();\n        };\n        GroupBySubscriber.prototype.removeGroup = function (key) {\n            this.groups.delete(key);\n        };\n        GroupBySubscriber.prototype.unsubscribe = function () {\n            if (!this.closed) {\n                this.attemptedToUnsubscribe = true;\n                if (this.count === 0) {\n                    _super.prototype.unsubscribe.call(this);\n                }\n            }\n        };\n        return GroupBySubscriber;\n    }(Subscriber));\n    var GroupDurationSubscriber = /*@__PURE__*/ (function (_super) {\n        __extends(GroupDurationSubscriber, _super);\n        function GroupDurationSubscriber(key, group, parent) {\n            var _this = _super.call(this, group) || this;\n            _this.key = key;\n            _this.group = group;\n            _this.parent = parent;\n            return _this;\n        }\n        GroupDurationSubscriber.prototype._next = function (value) {\n            this.complete();\n        };\n        GroupDurationSubscriber.prototype._unsubscribe = function () {\n            var _a = this, parent = _a.parent, key = _a.key;\n            this.key = this.parent = null;\n            if (parent) {\n                parent.removeGroup(key);\n            }\n        };\n        return GroupDurationSubscriber;\n    }(Subscriber));\n    var GroupedObservable = /*@__PURE__*/ (function (_super) {\n        __extends(GroupedObservable, _super);\n        function GroupedObservable(key, groupSubject, refCountSubscription) {\n            var _this = _super.call(this) || this;\n            _this.key = key;\n            _this.groupSubject = groupSubject;\n            _this.refCountSubscription = refCountSubscription;\n            return _this;\n        }\n        GroupedObservable.prototype._subscribe = function (subscriber) {\n            var subscription = new Subscription();\n            var _a = this, refCountSubscription = _a.refCountSubscription, groupSubject = _a.groupSubject;\n            if (refCountSubscription && !refCountSubscription.closed) {\n                subscription.add(new InnerRefCountSubscription(refCountSubscription));\n            }\n            subscription.add(groupSubject.subscribe(subscriber));\n            return subscription;\n        };\n        return GroupedObservable;\n    }(Observable));\n    var InnerRefCountSubscription = /*@__PURE__*/ (function (_super) {\n        __extends(InnerRefCountSubscription, _super);\n        function InnerRefCountSubscription(parent) {\n            var _this = _super.call(this) || this;\n            _this.parent = parent;\n            parent.count++;\n            return _this;\n        }\n        InnerRefCountSubscription.prototype.unsubscribe = function () {\n            var parent = this.parent;\n            if (!parent.closed && !this.closed) {\n                _super.prototype.unsubscribe.call(this);\n                parent.count -= 1;\n                if (parent.count === 0 && parent.attemptedToUnsubscribe) {\n                    parent.unsubscribe();\n                }\n            }\n        };\n        return InnerRefCountSubscription;\n    }(Subscription));\n\n    /** PURE_IMPORTS_START tslib,_Subject,_util_ObjectUnsubscribedError PURE_IMPORTS_END */\n    var BehaviorSubject = /*@__PURE__*/ (function (_super) {\n        __extends(BehaviorSubject, _super);\n        function BehaviorSubject(_value) {\n            var _this = _super.call(this) || this;\n            _this._value = _value;\n            return _this;\n        }\n        Object.defineProperty(BehaviorSubject.prototype, \"value\", {\n            get: function () {\n                return this.getValue();\n            },\n            enumerable: true,\n            configurable: true\n        });\n        BehaviorSubject.prototype._subscribe = function (subscriber) {\n            var subscription = _super.prototype._subscribe.call(this, subscriber);\n            if (subscription && !subscription.closed) {\n                subscriber.next(this._value);\n            }\n            return subscription;\n        };\n        BehaviorSubject.prototype.getValue = function () {\n            if (this.hasError) {\n                throw this.thrownError;\n            }\n            else if (this.closed) {\n                throw new ObjectUnsubscribedError();\n            }\n            else {\n                return this._value;\n            }\n        };\n        BehaviorSubject.prototype.next = function (value) {\n            _super.prototype.next.call(this, this._value = value);\n        };\n        return BehaviorSubject;\n    }(Subject));\n\n    /** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */\n    var Action = /*@__PURE__*/ (function (_super) {\n        __extends(Action, _super);\n        function Action(scheduler, work) {\n            return _super.call(this) || this;\n        }\n        Action.prototype.schedule = function (state, delay) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            return this;\n        };\n        return Action;\n    }(Subscription));\n\n    /** PURE_IMPORTS_START tslib,_Action PURE_IMPORTS_END */\n    var AsyncAction = /*@__PURE__*/ (function (_super) {\n        __extends(AsyncAction, _super);\n        function AsyncAction(scheduler, work) {\n            var _this = _super.call(this, scheduler, work) || this;\n            _this.scheduler = scheduler;\n            _this.work = work;\n            _this.pending = false;\n            return _this;\n        }\n        AsyncAction.prototype.schedule = function (state, delay) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            if (this.closed) {\n                return this;\n            }\n            this.state = state;\n            var id = this.id;\n            var scheduler = this.scheduler;\n            if (id != null) {\n                this.id = this.recycleAsyncId(scheduler, id, delay);\n            }\n            this.pending = true;\n            this.delay = delay;\n            this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n            return this;\n        };\n        AsyncAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            return setInterval(scheduler.flush.bind(scheduler, this), delay);\n        };\n        AsyncAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            if (delay !== null && this.delay === delay && this.pending === false) {\n                return id;\n            }\n            return clearInterval(id) && undefined || undefined;\n        };\n        AsyncAction.prototype.execute = function (state, delay) {\n            if (this.closed) {\n                return new Error('executing a cancelled action');\n            }\n            this.pending = false;\n            var error = this._execute(state, delay);\n            if (error) {\n                return error;\n            }\n            else if (this.pending === false && this.id != null) {\n                this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n            }\n        };\n        AsyncAction.prototype._execute = function (state, delay) {\n            var errored = false;\n            var errorValue = undefined;\n            try {\n                this.work(state);\n            }\n            catch (e) {\n                errored = true;\n                errorValue = !!e && e || new Error(e);\n            }\n            if (errored) {\n                this.unsubscribe();\n                return errorValue;\n            }\n        };\n        AsyncAction.prototype._unsubscribe = function () {\n            var id = this.id;\n            var scheduler = this.scheduler;\n            var actions = scheduler.actions;\n            var index = actions.indexOf(this);\n            this.work = null;\n            this.state = null;\n            this.pending = false;\n            this.scheduler = null;\n            if (index !== -1) {\n                actions.splice(index, 1);\n            }\n            if (id != null) {\n                this.id = this.recycleAsyncId(scheduler, id, null);\n            }\n            this.delay = null;\n        };\n        return AsyncAction;\n    }(Action));\n\n    /** PURE_IMPORTS_START tslib,_AsyncAction PURE_IMPORTS_END */\n    var QueueAction = /*@__PURE__*/ (function (_super) {\n        __extends(QueueAction, _super);\n        function QueueAction(scheduler, work) {\n            var _this = _super.call(this, scheduler, work) || this;\n            _this.scheduler = scheduler;\n            _this.work = work;\n            return _this;\n        }\n        QueueAction.prototype.schedule = function (state, delay) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            if (delay > 0) {\n                return _super.prototype.schedule.call(this, state, delay);\n            }\n            this.delay = delay;\n            this.state = state;\n            this.scheduler.flush(this);\n            return this;\n        };\n        QueueAction.prototype.execute = function (state, delay) {\n            return (delay > 0 || this.closed) ?\n                _super.prototype.execute.call(this, state, delay) :\n                this._execute(state, delay);\n        };\n        QueueAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n                return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n            }\n            return scheduler.flush(this);\n        };\n        return QueueAction;\n    }(AsyncAction));\n\n    var Scheduler = /*@__PURE__*/ (function () {\n        function Scheduler(SchedulerAction, now) {\n            if (now === void 0) {\n                now = Scheduler.now;\n            }\n            this.SchedulerAction = SchedulerAction;\n            this.now = now;\n        }\n        Scheduler.prototype.schedule = function (work, delay, state) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            return new this.SchedulerAction(this, work).schedule(state, delay);\n        };\n        Scheduler.now = function () { return Date.now(); };\n        return Scheduler;\n    }());\n\n    /** PURE_IMPORTS_START tslib,_Scheduler PURE_IMPORTS_END */\n    var AsyncScheduler = /*@__PURE__*/ (function (_super) {\n        __extends(AsyncScheduler, _super);\n        function AsyncScheduler(SchedulerAction, now) {\n            if (now === void 0) {\n                now = Scheduler.now;\n            }\n            var _this = _super.call(this, SchedulerAction, function () {\n                if (AsyncScheduler.delegate && AsyncScheduler.delegate !== _this) {\n                    return AsyncScheduler.delegate.now();\n                }\n                else {\n                    return now();\n                }\n            }) || this;\n            _this.actions = [];\n            _this.active = false;\n            _this.scheduled = undefined;\n            return _this;\n        }\n        AsyncScheduler.prototype.schedule = function (work, delay, state) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            if (AsyncScheduler.delegate && AsyncScheduler.delegate !== this) {\n                return AsyncScheduler.delegate.schedule(work, delay, state);\n            }\n            else {\n                return _super.prototype.schedule.call(this, work, delay, state);\n            }\n        };\n        AsyncScheduler.prototype.flush = function (action) {\n            var actions = this.actions;\n            if (this.active) {\n                actions.push(action);\n                return;\n            }\n            var error;\n            this.active = true;\n            do {\n                if (error = action.execute(action.state, action.delay)) {\n                    break;\n                }\n            } while (action = actions.shift());\n            this.active = false;\n            if (error) {\n                while (action = actions.shift()) {\n                    action.unsubscribe();\n                }\n                throw error;\n            }\n        };\n        return AsyncScheduler;\n    }(Scheduler));\n\n    /** PURE_IMPORTS_START tslib,_AsyncScheduler PURE_IMPORTS_END */\n    var QueueScheduler = /*@__PURE__*/ (function (_super) {\n        __extends(QueueScheduler, _super);\n        function QueueScheduler() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        return QueueScheduler;\n    }(AsyncScheduler));\n\n    /** PURE_IMPORTS_START _QueueAction,_QueueScheduler PURE_IMPORTS_END */\n    var queue = /*@__PURE__*/ new QueueScheduler(QueueAction);\n\n    /** PURE_IMPORTS_START _Observable PURE_IMPORTS_END */\n    var EMPTY = /*@__PURE__*/ new Observable(function (subscriber) { return subscriber.complete(); });\n    function empty$1(scheduler) {\n        return scheduler ? emptyScheduled(scheduler) : EMPTY;\n    }\n    function emptyScheduled(scheduler) {\n        return new Observable(function (subscriber) { return scheduler.schedule(function () { return subscriber.complete(); }); });\n    }\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    function isScheduler(value) {\n        return value && typeof value.schedule === 'function';\n    }\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    var subscribeToArray = function (array) {\n        return function (subscriber) {\n            for (var i = 0, len = array.length; i < len && !subscriber.closed; i++) {\n                subscriber.next(array[i]);\n            }\n            if (!subscriber.closed) {\n                subscriber.complete();\n            }\n        };\n    };\n\n    /** PURE_IMPORTS_START _Observable,_Subscription,_util_subscribeToArray PURE_IMPORTS_END */\n    function fromArray(input, scheduler) {\n        if (!scheduler) {\n            return new Observable(subscribeToArray(input));\n        }\n        else {\n            return new Observable(function (subscriber) {\n                var sub = new Subscription();\n                var i = 0;\n                sub.add(scheduler.schedule(function () {\n                    if (i === input.length) {\n                        subscriber.complete();\n                        return;\n                    }\n                    subscriber.next(input[i++]);\n                    if (!subscriber.closed) {\n                        sub.add(this.schedule());\n                    }\n                }));\n                return sub;\n            });\n        }\n    }\n\n    /** PURE_IMPORTS_START _Observable PURE_IMPORTS_END */\n    function scalar(value) {\n        var result = new Observable(function (subscriber) {\n            subscriber.next(value);\n            subscriber.complete();\n        });\n        result._isScalar = true;\n        result.value = value;\n        return result;\n    }\n\n    /** PURE_IMPORTS_START _util_isScheduler,_fromArray,_empty,_scalar PURE_IMPORTS_END */\n    function of() {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var scheduler = args[args.length - 1];\n        if (isScheduler(scheduler)) {\n            args.pop();\n        }\n        else {\n            scheduler = undefined;\n        }\n        switch (args.length) {\n            case 0:\n                return empty$1(scheduler);\n            case 1:\n                return scheduler ? fromArray(args, scheduler) : scalar(args[0]);\n            default:\n                return fromArray(args, scheduler);\n        }\n    }\n\n    /** PURE_IMPORTS_START _Observable PURE_IMPORTS_END */\n    function throwError(error, scheduler) {\n        if (!scheduler) {\n            return new Observable(function (subscriber) { return subscriber.error(error); });\n        }\n        else {\n            return new Observable(function (subscriber) { return scheduler.schedule(dispatch, 0, { error: error, subscriber: subscriber }); });\n        }\n    }\n    function dispatch(_a) {\n        var error = _a.error, subscriber = _a.subscriber;\n        subscriber.error(error);\n    }\n\n    /** PURE_IMPORTS_START _observable_empty,_observable_of,_observable_throwError PURE_IMPORTS_END */\n    var Notification = /*@__PURE__*/ (function () {\n        function Notification(kind, value, error) {\n            this.kind = kind;\n            this.value = value;\n            this.error = error;\n            this.hasValue = kind === 'N';\n        }\n        Notification.prototype.observe = function (observer) {\n            switch (this.kind) {\n                case 'N':\n                    return observer.next && observer.next(this.value);\n                case 'E':\n                    return observer.error && observer.error(this.error);\n                case 'C':\n                    return observer.complete && observer.complete();\n            }\n        };\n        Notification.prototype.do = function (next, error, complete) {\n            var kind = this.kind;\n            switch (kind) {\n                case 'N':\n                    return next && next(this.value);\n                case 'E':\n                    return error && error(this.error);\n                case 'C':\n                    return complete && complete();\n            }\n        };\n        Notification.prototype.accept = function (nextOrObserver, error, complete) {\n            if (nextOrObserver && typeof nextOrObserver.next === 'function') {\n                return this.observe(nextOrObserver);\n            }\n            else {\n                return this.do(nextOrObserver, error, complete);\n            }\n        };\n        Notification.prototype.toObservable = function () {\n            var kind = this.kind;\n            switch (kind) {\n                case 'N':\n                    return of(this.value);\n                case 'E':\n                    return throwError(this.error);\n                case 'C':\n                    return empty$1();\n            }\n            throw new Error('unexpected notification kind value');\n        };\n        Notification.createNext = function (value) {\n            if (typeof value !== 'undefined') {\n                return new Notification('N', value);\n            }\n            return Notification.undefinedValueNotification;\n        };\n        Notification.createError = function (err) {\n            return new Notification('E', undefined, err);\n        };\n        Notification.createComplete = function () {\n            return Notification.completeNotification;\n        };\n        Notification.completeNotification = new Notification('C');\n        Notification.undefinedValueNotification = new Notification('N', undefined);\n        return Notification;\n    }());\n\n    /** PURE_IMPORTS_START tslib,_Subscriber,_Notification PURE_IMPORTS_END */\n    var ObserveOnSubscriber = /*@__PURE__*/ (function (_super) {\n        __extends(ObserveOnSubscriber, _super);\n        function ObserveOnSubscriber(destination, scheduler, delay) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            var _this = _super.call(this, destination) || this;\n            _this.scheduler = scheduler;\n            _this.delay = delay;\n            return _this;\n        }\n        ObserveOnSubscriber.dispatch = function (arg) {\n            var notification = arg.notification, destination = arg.destination;\n            notification.observe(destination);\n            this.unsubscribe();\n        };\n        ObserveOnSubscriber.prototype.scheduleMessage = function (notification) {\n            this.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch, this.delay, new ObserveOnMessage(notification, this.destination)));\n        };\n        ObserveOnSubscriber.prototype._next = function (value) {\n            this.scheduleMessage(Notification.createNext(value));\n        };\n        ObserveOnSubscriber.prototype._error = function (err) {\n            this.scheduleMessage(Notification.createError(err));\n        };\n        ObserveOnSubscriber.prototype._complete = function () {\n            this.scheduleMessage(Notification.createComplete());\n        };\n        return ObserveOnSubscriber;\n    }(Subscriber));\n    var ObserveOnMessage = /*@__PURE__*/ (function () {\n        function ObserveOnMessage(notification, destination) {\n            this.notification = notification;\n            this.destination = destination;\n        }\n        return ObserveOnMessage;\n    }());\n\n    /** PURE_IMPORTS_START tslib,_Subject,_scheduler_queue,_Subscription,_operators_observeOn,_util_ObjectUnsubscribedError,_SubjectSubscription PURE_IMPORTS_END */\n    var ReplaySubject = /*@__PURE__*/ (function (_super) {\n        __extends(ReplaySubject, _super);\n        function ReplaySubject(bufferSize, windowTime, scheduler) {\n            if (bufferSize === void 0) {\n                bufferSize = Number.POSITIVE_INFINITY;\n            }\n            if (windowTime === void 0) {\n                windowTime = Number.POSITIVE_INFINITY;\n            }\n            var _this = _super.call(this) || this;\n            _this.scheduler = scheduler;\n            _this._events = [];\n            _this._infiniteTimeWindow = false;\n            _this._bufferSize = bufferSize < 1 ? 1 : bufferSize;\n            _this._windowTime = windowTime < 1 ? 1 : windowTime;\n            if (windowTime === Number.POSITIVE_INFINITY) {\n                _this._infiniteTimeWindow = true;\n                _this.next = _this.nextInfiniteTimeWindow;\n            }\n            else {\n                _this.next = _this.nextTimeWindow;\n            }\n            return _this;\n        }\n        ReplaySubject.prototype.nextInfiniteTimeWindow = function (value) {\n            var _events = this._events;\n            _events.push(value);\n            if (_events.length > this._bufferSize) {\n                _events.shift();\n            }\n            _super.prototype.next.call(this, value);\n        };\n        ReplaySubject.prototype.nextTimeWindow = function (value) {\n            this._events.push(new ReplayEvent(this._getNow(), value));\n            this._trimBufferThenGetEvents();\n            _super.prototype.next.call(this, value);\n        };\n        ReplaySubject.prototype._subscribe = function (subscriber) {\n            var _infiniteTimeWindow = this._infiniteTimeWindow;\n            var _events = _infiniteTimeWindow ? this._events : this._trimBufferThenGetEvents();\n            var scheduler = this.scheduler;\n            var len = _events.length;\n            var subscription;\n            if (this.closed) {\n                throw new ObjectUnsubscribedError();\n            }\n            else if (this.isStopped || this.hasError) {\n                subscription = Subscription.EMPTY;\n            }\n            else {\n                this.observers.push(subscriber);\n                subscription = new SubjectSubscription(this, subscriber);\n            }\n            if (scheduler) {\n                subscriber.add(subscriber = new ObserveOnSubscriber(subscriber, scheduler));\n            }\n            if (_infiniteTimeWindow) {\n                for (var i = 0; i < len && !subscriber.closed; i++) {\n                    subscriber.next(_events[i]);\n                }\n            }\n            else {\n                for (var i = 0; i < len && !subscriber.closed; i++) {\n                    subscriber.next(_events[i].value);\n                }\n            }\n            if (this.hasError) {\n                subscriber.error(this.thrownError);\n            }\n            else if (this.isStopped) {\n                subscriber.complete();\n            }\n            return subscription;\n        };\n        ReplaySubject.prototype._getNow = function () {\n            return (this.scheduler || queue).now();\n        };\n        ReplaySubject.prototype._trimBufferThenGetEvents = function () {\n            var now = this._getNow();\n            var _bufferSize = this._bufferSize;\n            var _windowTime = this._windowTime;\n            var _events = this._events;\n            var eventsCount = _events.length;\n            var spliceCount = 0;\n            while (spliceCount < eventsCount) {\n                if ((now - _events[spliceCount].time) < _windowTime) {\n                    break;\n                }\n                spliceCount++;\n            }\n            if (eventsCount > _bufferSize) {\n                spliceCount = Math.max(spliceCount, eventsCount - _bufferSize);\n            }\n            if (spliceCount > 0) {\n                _events.splice(0, spliceCount);\n            }\n            return _events;\n        };\n        return ReplaySubject;\n    }(Subject));\n    var ReplayEvent = /*@__PURE__*/ (function () {\n        function ReplayEvent(time, value) {\n            this.time = time;\n            this.value = value;\n        }\n        return ReplayEvent;\n    }());\n\n    /** PURE_IMPORTS_START tslib,_Subject,_Subscription PURE_IMPORTS_END */\n    var AsyncSubject = /*@__PURE__*/ (function (_super) {\n        __extends(AsyncSubject, _super);\n        function AsyncSubject() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.value = null;\n            _this.hasNext = false;\n            _this.hasCompleted = false;\n            return _this;\n        }\n        AsyncSubject.prototype._subscribe = function (subscriber) {\n            if (this.hasError) {\n                subscriber.error(this.thrownError);\n                return Subscription.EMPTY;\n            }\n            else if (this.hasCompleted && this.hasNext) {\n                subscriber.next(this.value);\n                subscriber.complete();\n                return Subscription.EMPTY;\n            }\n            return _super.prototype._subscribe.call(this, subscriber);\n        };\n        AsyncSubject.prototype.next = function (value) {\n            if (!this.hasCompleted) {\n                this.value = value;\n                this.hasNext = true;\n            }\n        };\n        AsyncSubject.prototype.error = function (error) {\n            if (!this.hasCompleted) {\n                _super.prototype.error.call(this, error);\n            }\n        };\n        AsyncSubject.prototype.complete = function () {\n            this.hasCompleted = true;\n            if (this.hasNext) {\n                _super.prototype.next.call(this, this.value);\n            }\n            _super.prototype.complete.call(this);\n        };\n        return AsyncSubject;\n    }(Subject));\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    var nextHandle = 1;\n    var tasksByHandle = {};\n    function runIfPresent(handle) {\n        var cb = tasksByHandle[handle];\n        if (cb) {\n            cb();\n        }\n    }\n    var Immediate = {\n        setImmediate: function (cb) {\n            var handle = nextHandle++;\n            tasksByHandle[handle] = cb;\n            Promise.resolve().then(function () { return runIfPresent(handle); });\n            return handle;\n        },\n        clearImmediate: function (handle) {\n            delete tasksByHandle[handle];\n        },\n    };\n\n    /** PURE_IMPORTS_START tslib,_util_Immediate,_AsyncAction PURE_IMPORTS_END */\n    var AsapAction = /*@__PURE__*/ (function (_super) {\n        __extends(AsapAction, _super);\n        function AsapAction(scheduler, work) {\n            var _this = _super.call(this, scheduler, work) || this;\n            _this.scheduler = scheduler;\n            _this.work = work;\n            return _this;\n        }\n        AsapAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            if (delay !== null && delay > 0) {\n                return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n            }\n            scheduler.actions.push(this);\n            return scheduler.scheduled || (scheduler.scheduled = Immediate.setImmediate(scheduler.flush.bind(scheduler, null)));\n        };\n        AsapAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n                return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);\n            }\n            if (scheduler.actions.length === 0) {\n                Immediate.clearImmediate(id);\n                scheduler.scheduled = undefined;\n            }\n            return undefined;\n        };\n        return AsapAction;\n    }(AsyncAction));\n\n    /** PURE_IMPORTS_START tslib,_AsyncScheduler PURE_IMPORTS_END */\n    var AsapScheduler = /*@__PURE__*/ (function (_super) {\n        __extends(AsapScheduler, _super);\n        function AsapScheduler() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        AsapScheduler.prototype.flush = function (action) {\n            this.active = true;\n            this.scheduled = undefined;\n            var actions = this.actions;\n            var error;\n            var index = -1;\n            var count = actions.length;\n            action = action || actions.shift();\n            do {\n                if (error = action.execute(action.state, action.delay)) {\n                    break;\n                }\n            } while (++index < count && (action = actions.shift()));\n            this.active = false;\n            if (error) {\n                while (++index < count && (action = actions.shift())) {\n                    action.unsubscribe();\n                }\n                throw error;\n            }\n        };\n        return AsapScheduler;\n    }(AsyncScheduler));\n\n    /** PURE_IMPORTS_START _AsapAction,_AsapScheduler PURE_IMPORTS_END */\n    var asap = /*@__PURE__*/ new AsapScheduler(AsapAction);\n\n    /** PURE_IMPORTS_START _AsyncAction,_AsyncScheduler PURE_IMPORTS_END */\n    var async = /*@__PURE__*/ new AsyncScheduler(AsyncAction);\n\n    /** PURE_IMPORTS_START tslib,_AsyncAction PURE_IMPORTS_END */\n    var AnimationFrameAction = /*@__PURE__*/ (function (_super) {\n        __extends(AnimationFrameAction, _super);\n        function AnimationFrameAction(scheduler, work) {\n            var _this = _super.call(this, scheduler, work) || this;\n            _this.scheduler = scheduler;\n            _this.work = work;\n            return _this;\n        }\n        AnimationFrameAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            if (delay !== null && delay > 0) {\n                return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n            }\n            scheduler.actions.push(this);\n            return scheduler.scheduled || (scheduler.scheduled = requestAnimationFrame(function () { return scheduler.flush(null); }));\n        };\n        AnimationFrameAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n                return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);\n            }\n            if (scheduler.actions.length === 0) {\n                cancelAnimationFrame(id);\n                scheduler.scheduled = undefined;\n            }\n            return undefined;\n        };\n        return AnimationFrameAction;\n    }(AsyncAction));\n\n    /** PURE_IMPORTS_START tslib,_AsyncScheduler PURE_IMPORTS_END */\n    var AnimationFrameScheduler = /*@__PURE__*/ (function (_super) {\n        __extends(AnimationFrameScheduler, _super);\n        function AnimationFrameScheduler() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        AnimationFrameScheduler.prototype.flush = function (action) {\n            this.active = true;\n            this.scheduled = undefined;\n            var actions = this.actions;\n            var error;\n            var index = -1;\n            var count = actions.length;\n            action = action || actions.shift();\n            do {\n                if (error = action.execute(action.state, action.delay)) {\n                    break;\n                }\n            } while (++index < count && (action = actions.shift()));\n            this.active = false;\n            if (error) {\n                while (++index < count && (action = actions.shift())) {\n                    action.unsubscribe();\n                }\n                throw error;\n            }\n        };\n        return AnimationFrameScheduler;\n    }(AsyncScheduler));\n\n    /** PURE_IMPORTS_START _AnimationFrameAction,_AnimationFrameScheduler PURE_IMPORTS_END */\n    var animationFrame = /*@__PURE__*/ new AnimationFrameScheduler(AnimationFrameAction);\n\n    /** PURE_IMPORTS_START tslib,_AsyncAction,_AsyncScheduler PURE_IMPORTS_END */\n    var VirtualTimeScheduler = /*@__PURE__*/ (function (_super) {\n        __extends(VirtualTimeScheduler, _super);\n        function VirtualTimeScheduler(SchedulerAction, maxFrames) {\n            if (SchedulerAction === void 0) {\n                SchedulerAction = VirtualAction;\n            }\n            if (maxFrames === void 0) {\n                maxFrames = Number.POSITIVE_INFINITY;\n            }\n            var _this = _super.call(this, SchedulerAction, function () { return _this.frame; }) || this;\n            _this.maxFrames = maxFrames;\n            _this.frame = 0;\n            _this.index = -1;\n            return _this;\n        }\n        VirtualTimeScheduler.prototype.flush = function () {\n            var _a = this, actions = _a.actions, maxFrames = _a.maxFrames;\n            var error, action;\n            while ((action = actions.shift()) && (this.frame = action.delay) <= maxFrames) {\n                if (error = action.execute(action.state, action.delay)) {\n                    break;\n                }\n            }\n            if (error) {\n                while (action = actions.shift()) {\n                    action.unsubscribe();\n                }\n                throw error;\n            }\n        };\n        VirtualTimeScheduler.frameTimeFactor = 10;\n        return VirtualTimeScheduler;\n    }(AsyncScheduler));\n    var VirtualAction = /*@__PURE__*/ (function (_super) {\n        __extends(VirtualAction, _super);\n        function VirtualAction(scheduler, work, index) {\n            if (index === void 0) {\n                index = scheduler.index += 1;\n            }\n            var _this = _super.call(this, scheduler, work) || this;\n            _this.scheduler = scheduler;\n            _this.work = work;\n            _this.index = index;\n            _this.active = true;\n            _this.index = scheduler.index = index;\n            return _this;\n        }\n        VirtualAction.prototype.schedule = function (state, delay) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            if (!this.id) {\n                return _super.prototype.schedule.call(this, state, delay);\n            }\n            this.active = false;\n            var action = new VirtualAction(this.scheduler, this.work);\n            this.add(action);\n            return action.schedule(state, delay);\n        };\n        VirtualAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            this.delay = scheduler.frame + delay;\n            var actions = scheduler.actions;\n            actions.push(this);\n            actions.sort(VirtualAction.sortActions);\n            return true;\n        };\n        VirtualAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            return undefined;\n        };\n        VirtualAction.prototype._execute = function (state, delay) {\n            if (this.active === true) {\n                return _super.prototype._execute.call(this, state, delay);\n            }\n        };\n        VirtualAction.sortActions = function (a, b) {\n            if (a.delay === b.delay) {\n                if (a.index === b.index) {\n                    return 0;\n                }\n                else if (a.index > b.index) {\n                    return 1;\n                }\n                else {\n                    return -1;\n                }\n            }\n            else if (a.delay > b.delay) {\n                return 1;\n            }\n            else {\n                return -1;\n            }\n        };\n        return VirtualAction;\n    }(AsyncAction));\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START _Observable PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START tslib PURE_IMPORTS_END */\n    var ArgumentOutOfRangeError = /*@__PURE__*/ (function (_super) {\n        __extends(ArgumentOutOfRangeError, _super);\n        function ArgumentOutOfRangeError() {\n            var _this = _super.call(this, 'argument out of range') || this;\n            _this.name = 'ArgumentOutOfRangeError';\n            Object.setPrototypeOf(_this, ArgumentOutOfRangeError.prototype);\n            return _this;\n        }\n        return ArgumentOutOfRangeError;\n    }(Error));\n\n    /** PURE_IMPORTS_START tslib PURE_IMPORTS_END */\n    var EmptyError = /*@__PURE__*/ (function (_super) {\n        __extends(EmptyError, _super);\n        function EmptyError() {\n            var _this = _super.call(this, 'no elements in sequence') || this;\n            _this.name = 'EmptyError';\n            Object.setPrototypeOf(_this, EmptyError.prototype);\n            return _this;\n        }\n        return EmptyError;\n    }(Error));\n\n    /** PURE_IMPORTS_START tslib PURE_IMPORTS_END */\n    var TimeoutError = /*@__PURE__*/ (function (_super) {\n        __extends(TimeoutError, _super);\n        function TimeoutError() {\n            var _this = _super.call(this, 'Timeout has occurred') || this;\n            _this.name = 'TimeoutError';\n            Object.setPrototypeOf(_this, TimeoutError.prototype);\n            return _this;\n        }\n        return TimeoutError;\n    }(Error));\n\n    /** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\n    var MapSubscriber = /*@__PURE__*/ (function (_super) {\n        __extends(MapSubscriber, _super);\n        function MapSubscriber(destination, project, thisArg) {\n            var _this = _super.call(this, destination) || this;\n            _this.project = project;\n            _this.count = 0;\n            _this.thisArg = thisArg || _this;\n            return _this;\n        }\n        MapSubscriber.prototype._next = function (value) {\n            var result;\n            try {\n                result = this.project.call(this.thisArg, value, this.count++);\n            }\n            catch (err) {\n                this.destination.error(err);\n                return;\n            }\n            this.destination.next(result);\n        };\n        return MapSubscriber;\n    }(Subscriber));\n\n    /** PURE_IMPORTS_START _Observable,_AsyncSubject,_operators_map,_util_isArray,_util_isScheduler PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START _Observable,_AsyncSubject,_operators_map,_util_isScheduler,_util_isArray PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\n    var OuterSubscriber = /*@__PURE__*/ (function (_super) {\n        __extends(OuterSubscriber, _super);\n        function OuterSubscriber() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        OuterSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n            this.destination.next(innerValue);\n        };\n        OuterSubscriber.prototype.notifyError = function (error, innerSub) {\n            this.destination.error(error);\n        };\n        OuterSubscriber.prototype.notifyComplete = function (innerSub) {\n            this.destination.complete();\n        };\n        return OuterSubscriber;\n    }(Subscriber));\n\n    /** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\n    var InnerSubscriber = /*@__PURE__*/ (function (_super) {\n        __extends(InnerSubscriber, _super);\n        function InnerSubscriber(parent, outerValue, outerIndex) {\n            var _this = _super.call(this) || this;\n            _this.parent = parent;\n            _this.outerValue = outerValue;\n            _this.outerIndex = outerIndex;\n            _this.index = 0;\n            return _this;\n        }\n        InnerSubscriber.prototype._next = function (value) {\n            this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);\n        };\n        InnerSubscriber.prototype._error = function (error) {\n            this.parent.notifyError(error, this);\n            this.unsubscribe();\n        };\n        InnerSubscriber.prototype._complete = function () {\n            this.parent.notifyComplete(this);\n            this.unsubscribe();\n        };\n        return InnerSubscriber;\n    }(Subscriber));\n\n    /** PURE_IMPORTS_START _hostReportError PURE_IMPORTS_END */\n    var subscribeToPromise = function (promise) {\n        return function (subscriber) {\n            promise.then(function (value) {\n                if (!subscriber.closed) {\n                    subscriber.next(value);\n                    subscriber.complete();\n                }\n            }, function (err) { return subscriber.error(err); })\n                .then(null, hostReportError);\n            return subscriber;\n        };\n    };\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    function getSymbolIterator() {\n        if (typeof Symbol !== 'function' || !Symbol.iterator) {\n            return '@@iterator';\n        }\n        return Symbol.iterator;\n    }\n    var iterator = /*@__PURE__*/ getSymbolIterator();\n\n    /** PURE_IMPORTS_START _symbol_iterator PURE_IMPORTS_END */\n    var subscribeToIterable = function (iterable) {\n        return function (subscriber) {\n            var iterator$$1 = iterable[iterator]();\n            do {\n                var item = iterator$$1.next();\n                if (item.done) {\n                    subscriber.complete();\n                    break;\n                }\n                subscriber.next(item.value);\n                if (subscriber.closed) {\n                    break;\n                }\n            } while (true);\n            if (typeof iterator$$1.return === 'function') {\n                subscriber.add(function () {\n                    if (iterator$$1.return) {\n                        iterator$$1.return();\n                    }\n                });\n            }\n            return subscriber;\n        };\n    };\n\n    /** PURE_IMPORTS_START _symbol_observable PURE_IMPORTS_END */\n    var subscribeToObservable = function (obj) {\n        return function (subscriber) {\n            var obs = obj[observable]();\n            if (typeof obs.subscribe !== 'function') {\n                throw new TypeError('Provided object does not correctly implement Symbol.observable');\n            }\n            else {\n                return obs.subscribe(subscriber);\n            }\n        };\n    };\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    var isArrayLike = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    function isPromise(value) {\n        return value && typeof value.subscribe !== 'function' && typeof value.then === 'function';\n    }\n\n    /** PURE_IMPORTS_START _Observable,_subscribeToArray,_subscribeToPromise,_subscribeToIterable,_subscribeToObservable,_isArrayLike,_isPromise,_isObject,_symbol_iterator,_symbol_observable PURE_IMPORTS_END */\n    var subscribeTo = function (result) {\n        if (result instanceof Observable) {\n            return function (subscriber) {\n                if (result._isScalar) {\n                    subscriber.next(result.value);\n                    subscriber.complete();\n                    return undefined;\n                }\n                else {\n                    return result.subscribe(subscriber);\n                }\n            };\n        }\n        else if (result && typeof result[observable] === 'function') {\n            return subscribeToObservable(result);\n        }\n        else if (isArrayLike(result)) {\n            return subscribeToArray(result);\n        }\n        else if (isPromise(result)) {\n            return subscribeToPromise(result);\n        }\n        else if (result && typeof result[iterator] === 'function') {\n            return subscribeToIterable(result);\n        }\n        else {\n            var value = isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n            var msg = \"You provided \" + value + \" where a stream was expected.\"\n                + ' You can provide an Observable, Promise, Array, or Iterable.';\n            throw new TypeError(msg);\n        }\n    };\n\n    /** PURE_IMPORTS_START _InnerSubscriber,_subscribeTo PURE_IMPORTS_END */\n    function subscribeToResult(outerSubscriber, result, outerValue, outerIndex) {\n        var destination = new InnerSubscriber(outerSubscriber, outerValue, outerIndex);\n        return subscribeTo(result)(destination);\n    }\n\n    /** PURE_IMPORTS_START tslib,_util_isScheduler,_util_isArray,_OuterSubscriber,_util_subscribeToResult,_fromArray PURE_IMPORTS_END */\n    var NONE = {};\n    var CombineLatestSubscriber = /*@__PURE__*/ (function (_super) {\n        __extends(CombineLatestSubscriber, _super);\n        function CombineLatestSubscriber(destination, resultSelector) {\n            var _this = _super.call(this, destination) || this;\n            _this.resultSelector = resultSelector;\n            _this.active = 0;\n            _this.values = [];\n            _this.observables = [];\n            return _this;\n        }\n        CombineLatestSubscriber.prototype._next = function (observable) {\n            this.values.push(NONE);\n            this.observables.push(observable);\n        };\n        CombineLatestSubscriber.prototype._complete = function () {\n            var observables = this.observables;\n            var len = observables.length;\n            if (len === 0) {\n                this.destination.complete();\n            }\n            else {\n                this.active = len;\n                this.toRespond = len;\n                for (var i = 0; i < len; i++) {\n                    var observable = observables[i];\n                    this.add(subscribeToResult(this, observable, observable, i));\n                }\n            }\n        };\n        CombineLatestSubscriber.prototype.notifyComplete = function (unused) {\n            if ((this.active -= 1) === 0) {\n                this.destination.complete();\n            }\n        };\n        CombineLatestSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n            var values = this.values;\n            var oldVal = values[outerIndex];\n            var toRespond = !this.toRespond\n                ? 0\n                : oldVal === NONE ? --this.toRespond : this.toRespond;\n            values[outerIndex] = innerValue;\n            if (toRespond === 0) {\n                if (this.resultSelector) {\n                    this._tryResultSelector(values);\n                }\n                else {\n                    this.destination.next(values.slice());\n                }\n            }\n        };\n        CombineLatestSubscriber.prototype._tryResultSelector = function (values) {\n            var result;\n            try {\n                result = this.resultSelector.apply(this, values);\n            }\n            catch (err) {\n                this.destination.error(err);\n                return;\n            }\n            this.destination.next(result);\n        };\n        return CombineLatestSubscriber;\n    }(OuterSubscriber));\n\n    /** PURE_IMPORTS_START _symbol_observable PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START _symbol_iterator PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START _Observable,_Subscription,_util_subscribeToPromise PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START _Observable,_Subscription,_symbol_iterator,_util_subscribeToIterable PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START _Observable,_Subscription,_symbol_observable,_util_subscribeToObservable PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START _Observable,_util_isPromise,_util_isArrayLike,_util_isInteropObservable,_util_isIterable,_fromArray,_fromPromise,_fromIterable,_fromObservable,_util_subscribeTo PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START tslib,_util_subscribeToResult,_OuterSubscriber,_map,_observable_from PURE_IMPORTS_END */\n    var MergeMapSubscriber = /*@__PURE__*/ (function (_super) {\n        __extends(MergeMapSubscriber, _super);\n        function MergeMapSubscriber(destination, project, concurrent) {\n            if (concurrent === void 0) {\n                concurrent = Number.POSITIVE_INFINITY;\n            }\n            var _this = _super.call(this, destination) || this;\n            _this.project = project;\n            _this.concurrent = concurrent;\n            _this.hasCompleted = false;\n            _this.buffer = [];\n            _this.active = 0;\n            _this.index = 0;\n            return _this;\n        }\n        MergeMapSubscriber.prototype._next = function (value) {\n            if (this.active < this.concurrent) {\n                this._tryNext(value);\n            }\n            else {\n                this.buffer.push(value);\n            }\n        };\n        MergeMapSubscriber.prototype._tryNext = function (value) {\n            var result;\n            var index = this.index++;\n            try {\n                result = this.project(value, index);\n            }\n            catch (err) {\n                this.destination.error(err);\n                return;\n            }\n            this.active++;\n            this._innerSub(result, value, index);\n        };\n        MergeMapSubscriber.prototype._innerSub = function (ish, value, index) {\n            this.add(subscribeToResult(this, ish, value, index));\n        };\n        MergeMapSubscriber.prototype._complete = function () {\n            this.hasCompleted = true;\n            if (this.active === 0 && this.buffer.length === 0) {\n                this.destination.complete();\n            }\n        };\n        MergeMapSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n            this.destination.next(innerValue);\n        };\n        MergeMapSubscriber.prototype.notifyComplete = function (innerSub) {\n            var buffer = this.buffer;\n            this.remove(innerSub);\n            this.active--;\n            if (buffer.length > 0) {\n                this._next(buffer.shift());\n            }\n            else if (this.active === 0 && this.hasCompleted) {\n                this.destination.complete();\n            }\n        };\n        return MergeMapSubscriber;\n    }(OuterSubscriber));\n\n    /** PURE_IMPORTS_START _mergeMap,_util_identity PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START _mergeAll PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START _util_isScheduler,_of,_from,_operators_concatAll PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START _Observable,_from,_empty PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START tslib,_Observable,_util_isArray,_empty,_util_subscribeToResult,_OuterSubscriber,_operators_map PURE_IMPORTS_END */\n    var ForkJoinSubscriber = /*@__PURE__*/ (function (_super) {\n        __extends(ForkJoinSubscriber, _super);\n        function ForkJoinSubscriber(destination, sources) {\n            var _this = _super.call(this, destination) || this;\n            _this.sources = sources;\n            _this.completed = 0;\n            _this.haveValues = 0;\n            var len = sources.length;\n            _this.values = new Array(len);\n            for (var i = 0; i < len; i++) {\n                var source = sources[i];\n                var innerSubscription = subscribeToResult(_this, source, null, i);\n                if (innerSubscription) {\n                    _this.add(innerSubscription);\n                }\n            }\n            return _this;\n        }\n        ForkJoinSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n            this.values[outerIndex] = innerValue;\n            if (!innerSub._hasValue) {\n                innerSub._hasValue = true;\n                this.haveValues++;\n            }\n        };\n        ForkJoinSubscriber.prototype.notifyComplete = function (innerSub) {\n            var _a = this, destination = _a.destination, haveValues = _a.haveValues, values = _a.values;\n            var len = values.length;\n            if (!innerSub._hasValue) {\n                destination.complete();\n                return;\n            }\n            this.completed++;\n            if (this.completed !== len) {\n                return;\n            }\n            if (haveValues === len) {\n                destination.next(values);\n            }\n            destination.complete();\n        };\n        return ForkJoinSubscriber;\n    }(OuterSubscriber));\n\n    /** PURE_IMPORTS_START _Observable,_util_isArray,_util_isFunction,_operators_map PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START _Observable,_util_isArray,_util_isFunction,_operators_map PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START _Observable,_util_identity,_util_isScheduler PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START _defer,_empty PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START _isArray PURE_IMPORTS_END */\n    function isNumeric(val) {\n        return !isArray(val) && (val - parseFloat(val) + 1) >= 0;\n    }\n\n    /** PURE_IMPORTS_START _Observable,_scheduler_async,_util_isNumeric PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START _Observable,_util_isScheduler,_operators_mergeAll,_fromArray PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START _Observable,_util_noop PURE_IMPORTS_END */\n    var NEVER = /*@__PURE__*/ new Observable(noop);\n\n    /** PURE_IMPORTS_START _Observable,_from,_util_isArray,_empty PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START _Observable,_Subscription PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START tslib,_util_isArray,_fromArray,_OuterSubscriber,_util_subscribeToResult PURE_IMPORTS_END */\n    var RaceSubscriber = /*@__PURE__*/ (function (_super) {\n        __extends(RaceSubscriber, _super);\n        function RaceSubscriber(destination) {\n            var _this = _super.call(this, destination) || this;\n            _this.hasFirst = false;\n            _this.observables = [];\n            _this.subscriptions = [];\n            return _this;\n        }\n        RaceSubscriber.prototype._next = function (observable) {\n            this.observables.push(observable);\n        };\n        RaceSubscriber.prototype._complete = function () {\n            var observables = this.observables;\n            var len = observables.length;\n            if (len === 0) {\n                this.destination.complete();\n            }\n            else {\n                for (var i = 0; i < len && !this.hasFirst; i++) {\n                    var observable = observables[i];\n                    var subscription = subscribeToResult(this, observable, observable, i);\n                    if (this.subscriptions) {\n                        this.subscriptions.push(subscription);\n                    }\n                    this.add(subscription);\n                }\n                this.observables = null;\n            }\n        };\n        RaceSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n            if (!this.hasFirst) {\n                this.hasFirst = true;\n                for (var i = 0; i < this.subscriptions.length; i++) {\n                    if (i !== outerIndex) {\n                        var subscription = this.subscriptions[i];\n                        subscription.unsubscribe();\n                        this.remove(subscription);\n                    }\n                }\n                this.subscriptions = null;\n            }\n            this.destination.next(innerValue);\n        };\n        return RaceSubscriber;\n    }(OuterSubscriber));\n\n    /** PURE_IMPORTS_START _Observable PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START _Observable,_scheduler_async,_util_isNumeric,_util_isScheduler PURE_IMPORTS_END */\n    function timer(dueTime, periodOrScheduler, scheduler) {\n        if (dueTime === void 0) {\n            dueTime = 0;\n        }\n        var period = -1;\n        if (isNumeric(periodOrScheduler)) {\n            period = Number(periodOrScheduler) < 1 && 1 || Number(periodOrScheduler);\n        }\n        else if (isScheduler(periodOrScheduler)) {\n            scheduler = periodOrScheduler;\n        }\n        if (!isScheduler(scheduler)) {\n            scheduler = async;\n        }\n        return new Observable(function (subscriber) {\n            var due = isNumeric(dueTime)\n                ? dueTime\n                : (+dueTime - scheduler.now());\n            return scheduler.schedule(dispatch$7, due, {\n                index: 0, period: period, subscriber: subscriber\n            });\n        });\n    }\n    function dispatch$7(state) {\n        var index = state.index, period = state.period, subscriber = state.subscriber;\n        subscriber.next(index);\n        if (subscriber.closed) {\n            return;\n        }\n        else if (period === -1) {\n            return subscriber.complete();\n        }\n        state.index = index + 1;\n        this.schedule(state, period);\n    }\n\n    /** PURE_IMPORTS_START _Observable,_from,_empty PURE_IMPORTS_END */\n\n    /** PURE_IMPORTS_START tslib,_fromArray,_util_isArray,_Subscriber,_OuterSubscriber,_util_subscribeToResult,_.._internal_symbol_iterator PURE_IMPORTS_END */\n    var ZipSubscriber = /*@__PURE__*/ (function (_super) {\n        __extends(ZipSubscriber, _super);\n        function ZipSubscriber(destination, resultSelector, values) {\n            if (values === void 0) {\n                values = Object.create(null);\n            }\n            var _this = _super.call(this, destination) || this;\n            _this.iterators = [];\n            _this.active = 0;\n            _this.resultSelector = (typeof resultSelector === 'function') ? resultSelector : null;\n            _this.values = values;\n            return _this;\n        }\n        ZipSubscriber.prototype._next = function (value) {\n            var iterators = this.iterators;\n            if (isArray(value)) {\n                iterators.push(new StaticArrayIterator(value));\n            }\n            else if (typeof value[iterator] === 'function') {\n                iterators.push(new StaticIterator(value[iterator]()));\n            }\n            else {\n                iterators.push(new ZipBufferIterator(this.destination, this, value));\n            }\n        };\n        ZipSubscriber.prototype._complete = function () {\n            var iterators = this.iterators;\n            var len = iterators.length;\n            if (len === 0) {\n                this.destination.complete();\n                return;\n            }\n            this.active = len;\n            for (var i = 0; i < len; i++) {\n                var iterator$$1 = iterators[i];\n                if (iterator$$1.stillUnsubscribed) {\n                    this.add(iterator$$1.subscribe(iterator$$1, i));\n                }\n                else {\n                    this.active--;\n                }\n            }\n        };\n        ZipSubscriber.prototype.notifyInactive = function () {\n            this.active--;\n            if (this.active === 0) {\n                this.destination.complete();\n            }\n        };\n        ZipSubscriber.prototype.checkIterators = function () {\n            var iterators = this.iterators;\n            var len = iterators.length;\n            var destination = this.destination;\n            for (var i = 0; i < len; i++) {\n                var iterator$$1 = iterators[i];\n                if (typeof iterator$$1.hasValue === 'function' && !iterator$$1.hasValue()) {\n                    return;\n                }\n            }\n            var shouldComplete = false;\n            var args = [];\n            for (var i = 0; i < len; i++) {\n                var iterator$$1 = iterators[i];\n                var result = iterator$$1.next();\n                if (iterator$$1.hasCompleted()) {\n                    shouldComplete = true;\n                }\n                if (result.done) {\n                    destination.complete();\n                    return;\n                }\n                args.push(result.value);\n            }\n            if (this.resultSelector) {\n                this._tryresultSelector(args);\n            }\n            else {\n                destination.next(args);\n            }\n            if (shouldComplete) {\n                destination.complete();\n            }\n        };\n        ZipSubscriber.prototype._tryresultSelector = function (args) {\n            var result;\n            try {\n                result = this.resultSelector.apply(this, args);\n            }\n            catch (err) {\n                this.destination.error(err);\n                return;\n            }\n            this.destination.next(result);\n        };\n        return ZipSubscriber;\n    }(Subscriber));\n    var StaticIterator = /*@__PURE__*/ (function () {\n        function StaticIterator(iterator$$1) {\n            this.iterator = iterator$$1;\n            this.nextResult = iterator$$1.next();\n        }\n        StaticIterator.prototype.hasValue = function () {\n            return true;\n        };\n        StaticIterator.prototype.next = function () {\n            var result = this.nextResult;\n            this.nextResult = this.iterator.next();\n            return result;\n        };\n        StaticIterator.prototype.hasCompleted = function () {\n            var nextResult = this.nextResult;\n            return nextResult && nextResult.done;\n        };\n        return StaticIterator;\n    }());\n    var StaticArrayIterator = /*@__PURE__*/ (function () {\n        function StaticArrayIterator(array) {\n            this.array = array;\n            this.index = 0;\n            this.length = 0;\n            this.length = array.length;\n        }\n        StaticArrayIterator.prototype[iterator] = function () {\n            return this;\n        };\n        StaticArrayIterator.prototype.next = function (value) {\n            var i = this.index++;\n            var array = this.array;\n            return i < this.length ? { value: array[i], done: false } : { value: null, done: true };\n        };\n        StaticArrayIterator.prototype.hasValue = function () {\n            return this.array.length > this.index;\n        };\n        StaticArrayIterator.prototype.hasCompleted = function () {\n            return this.array.length === this.index;\n        };\n        return StaticArrayIterator;\n    }());\n    var ZipBufferIterator = /*@__PURE__*/ (function (_super) {\n        __extends(ZipBufferIterator, _super);\n        function ZipBufferIterator(destination, parent, observable) {\n            var _this = _super.call(this, destination) || this;\n            _this.parent = parent;\n            _this.observable = observable;\n            _this.stillUnsubscribed = true;\n            _this.buffer = [];\n            _this.isComplete = false;\n            return _this;\n        }\n        ZipBufferIterator.prototype[iterator] = function () {\n            return this;\n        };\n        ZipBufferIterator.prototype.next = function () {\n            var buffer = this.buffer;\n            if (buffer.length === 0 && this.isComplete) {\n                return { value: null, done: true };\n            }\n            else {\n                return { value: buffer.shift(), done: false };\n            }\n        };\n        ZipBufferIterator.prototype.hasValue = function () {\n            return this.buffer.length > 0;\n        };\n        ZipBufferIterator.prototype.hasCompleted = function () {\n            return this.buffer.length === 0 && this.isComplete;\n        };\n        ZipBufferIterator.prototype.notifyComplete = function () {\n            if (this.buffer.length > 0) {\n                this.isComplete = true;\n                this.parent.notifyInactive();\n            }\n            else {\n                this.destination.complete();\n            }\n        };\n        ZipBufferIterator.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n            this.buffer.push(innerValue);\n            this.parent.checkIterators();\n        };\n        ZipBufferIterator.prototype.subscribe = function (value, index) {\n            return subscribeToResult(this, this.observable, this, index);\n        };\n        return ZipBufferIterator;\n    }(OuterSubscriber));\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n\n    /**\n     * @license ng2-completer\n     * MIT license\n     */\n\n    /**\n     * @fileoverview added by tsickle\n     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n     */\n    /** @type {?} */\n    var MAX_CHARS = 524288;\n    /** @type {?} */\n    var MIN_SEARCH_LENGTH = 3;\n    /** @type {?} */\n    var PAUSE = 10;\n    /** @type {?} */\n    var TEXT_SEARCHING = \"Searching...\";\n    /** @type {?} */\n    var TEXT_NO_RESULTS = \"No results found\";\n    /** @type {?} */\n    var CLEAR_TIMEOUT = 50;\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    function isNil(value) {\n        return typeof value === \"undefined\" || value === null;\n    }\n\n    /**\n     * @fileoverview added by tsickle\n     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n     */\n    /**\n     * @abstract\n     */\n    var   /**\n     * @abstract\n     */\n    CompleterBaseData = /** @class */ (function (_super) {\n        __extends(CompleterBaseData, _super);\n        function CompleterBaseData() {\n            var _this = _super.call(this) || this;\n            _this._searchFields = null;\n            _this._titleField = null;\n            _this._descriptionField = undefined;\n            _this._imageField = undefined;\n            return _this;\n        }\n        /**\n         * @return {?}\n         */\n        CompleterBaseData.prototype.cancel = /**\n         * @return {?}\n         */\n        function () {\n            return;\n        };\n        /**\n         * @param {?} searchFields\n         * @return {?}\n         */\n        CompleterBaseData.prototype.searchFields = /**\n         * @param {?} searchFields\n         * @return {?}\n         */\n        function (searchFields) {\n            this._searchFields = searchFields;\n            return this;\n        };\n        /**\n         * @param {?} titleField\n         * @return {?}\n         */\n        CompleterBaseData.prototype.titleField = /**\n         * @param {?} titleField\n         * @return {?}\n         */\n        function (titleField) {\n            this._titleField = titleField;\n            return this;\n        };\n        /**\n         * @param {?} descriptionField\n         * @return {?}\n         */\n        CompleterBaseData.prototype.descriptionField = /**\n         * @param {?} descriptionField\n         * @return {?}\n         */\n        function (descriptionField) {\n            this._descriptionField = descriptionField;\n            return this;\n        };\n        /**\n         * @param {?} imageField\n         * @return {?}\n         */\n        CompleterBaseData.prototype.imageField = /**\n         * @param {?} imageField\n         * @return {?}\n         */\n        function (imageField) {\n            this._imageField = imageField;\n            return this;\n        };\n        /**\n         * @param {?} data\n         * @return {?}\n         */\n        CompleterBaseData.prototype.convertToItem = /**\n         * @param {?} data\n         * @return {?}\n         */\n        function (data) {\n            /** @type {?} */\n            var image = null;\n            /** @type {?} */\n            var formattedText;\n            /** @type {?} */\n            var formattedDesc = null;\n            if (this._titleField) {\n                formattedText = this.extractTitle(data);\n            }\n            else {\n                formattedText = data;\n            }\n            if (typeof formattedText !== \"string\") {\n                formattedText = JSON.stringify(formattedText);\n            }\n            if (this._descriptionField) {\n                formattedDesc = this.extractValue(data, this._descriptionField);\n            }\n            if (this._imageField) {\n                image = this.extractValue(data, this._imageField);\n            }\n            if (isNil(formattedText)) {\n                return null;\n            }\n            return /** @type {?} */ ({\n                description: formattedDesc,\n                image: image,\n                originalObject: data,\n                title: formattedText\n            });\n        };\n        /**\n         * @param {?} data\n         * @param {?} term\n         * @return {?}\n         */\n        CompleterBaseData.prototype.extractMatches = /**\n         * @param {?} data\n         * @param {?} term\n         * @return {?}\n         */\n        function (data, term) {\n            var _this = this;\n            /** @type {?} */\n            var matches = [];\n            /** @type {?} */\n            var searchFields = this._searchFields ? this._searchFields.split(\",\") : null;\n            if (this._searchFields !== null && this._searchFields !== undefined && term !== \"\") {\n                matches = data.filter(function (item) {\n                    /** @type {?} */\n                    var values = searchFields ? _this.extractBySearchFields(searchFields, item) : [item];\n                    return values.some(function (value) { return value\n                        .toString()\n                        .toLowerCase()\n                        .indexOf(term.toString().toLowerCase()) >= 0; });\n                });\n            }\n            else {\n                matches = data;\n            }\n            return matches;\n        };\n        /**\n         * @param {?} item\n         * @return {?}\n         */\n        CompleterBaseData.prototype.extractTitle = /**\n         * @param {?} item\n         * @return {?}\n         */\n        function (item) {\n            var _this = this;\n            // split title fields and run extractValue for each and join with ' '\n            if (!this._titleField) {\n                return \"\";\n            }\n            return this._titleField.split(\",\")\n                .map(function (field) {\n                return _this.extractValue(item, field);\n            })\n                .reduce(function (acc, titlePart) { return acc ? acc + \" \" + titlePart : titlePart; });\n        };\n        /**\n         * @param {?} obj\n         * @param {?} key\n         * @return {?}\n         */\n        CompleterBaseData.prototype.extractValue = /**\n         * @param {?} obj\n         * @param {?} key\n         * @return {?}\n         */\n        function (obj, key) {\n            /** @type {?} */\n            var keys;\n            /** @type {?} */\n            var result;\n            if (key) {\n                keys = key.split(\".\");\n                result = obj;\n                for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                    key = keys_1[_i];\n                    if (result) {\n                        result = result[key];\n                    }\n                }\n            }\n            else {\n                result = obj;\n            }\n            return result;\n        };\n        /**\n         * @param {?} matches\n         * @return {?}\n         */\n        CompleterBaseData.prototype.processResults = /**\n         * @param {?} matches\n         * @return {?}\n         */\n        function (matches) {\n            /** @type {?} */\n            var i;\n            /** @type {?} */\n            var results = [];\n            if (matches && matches.length > 0) {\n                for (i = 0; i < matches.length; i++) {\n                    /** @type {?} */\n                    var item = this.convertToItem(matches[i]);\n                    if (item) {\n                        results.push(item);\n                    }\n                }\n            }\n            return results;\n        };\n        /**\n         * @param {?} searchFields\n         * @param {?} item\n         * @return {?}\n         */\n        CompleterBaseData.prototype.extractBySearchFields = /**\n         * @param {?} searchFields\n         * @param {?} item\n         * @return {?}\n         */\n        function (searchFields, item) {\n            var _this = this;\n            return searchFields\n                .map(function (searchField) { return _this.extractValue(item, searchField); }).filter(function (value) { return !!value; });\n        };\n        return CompleterBaseData;\n    }(Subject));\n\n    /**\n     * @fileoverview added by tsickle\n     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n     */\n    var LocalData = /** @class */ (function (_super) {\n        __extends(LocalData, _super);\n        function LocalData() {\n            var _this = _super.call(this) || this;\n            _this.dataSourceChange = new core.EventEmitter();\n            _this._data = [];\n            _this.savedTerm = null;\n            return _this;\n        }\n        /**\n         * @param {?} data\n         * @return {?}\n         */\n        LocalData.prototype.data = /**\n         * @param {?} data\n         * @return {?}\n         */\n        function (data) {\n            var _this = this;\n            if (data instanceof Observable) {\n                /** @type {?} */\n                var data$ = /** @type {?} */ (data);\n                data$\n                    .pipe(operators.catchError(function () { return []; }))\n                    .subscribe(function (res) {\n                    _this._data = res;\n                    if (_this.savedTerm) {\n                        _this.search(_this.savedTerm);\n                    }\n                    _this.dataSourceChange.emit();\n                });\n            }\n            else {\n                this._data = data;\n            }\n            this.dataSourceChange.emit();\n            return this;\n        };\n        /**\n         * @param {?} term\n         * @return {?}\n         */\n        LocalData.prototype.search = /**\n         * @param {?} term\n         * @return {?}\n         */\n        function (term) {\n            if (!this._data) {\n                this.savedTerm = term;\n            }\n            else {\n                this.savedTerm = null;\n                /** @type {?} */\n                var matches = this.extractMatches(this._data, term);\n                this.next(this.processResults(matches));\n            }\n        };\n        /**\n         * @param {?} data\n         * @return {?}\n         */\n        LocalData.prototype.convertToItem = /**\n         * @param {?} data\n         * @return {?}\n         */\n        function (data) {\n            return _super.prototype.convertToItem.call(this, data);\n        };\n        return LocalData;\n    }(CompleterBaseData));\n\n    /**\n     * @fileoverview added by tsickle\n     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n     */\n    var RemoteData = /** @class */ (function (_super) {\n        __extends(RemoteData, _super);\n        function RemoteData(http$$1) {\n            var _this = _super.call(this) || this;\n            _this.http = http$$1;\n            _this.dataSourceChange = new core.EventEmitter();\n            _this._remoteUrl = null;\n            _this.remoteSearch = null;\n            _this._urlFormater = null;\n            _this._dataField = null;\n            return _this;\n        }\n        /**\n         * @param {?} remoteUrl\n         * @return {?}\n         */\n        RemoteData.prototype.remoteUrl = /**\n         * @param {?} remoteUrl\n         * @return {?}\n         */\n        function (remoteUrl) {\n            this._remoteUrl = remoteUrl;\n            this.dataSourceChange.emit();\n            return this;\n        };\n        /**\n         * @param {?} urlFormater\n         * @return {?}\n         */\n        RemoteData.prototype.urlFormater = /**\n         * @param {?} urlFormater\n         * @return {?}\n         */\n        function (urlFormater) {\n            this._urlFormater = urlFormater;\n        };\n        /**\n         * @param {?} dataField\n         * @return {?}\n         */\n        RemoteData.prototype.dataField = /**\n         * @param {?} dataField\n         * @return {?}\n         */\n        function (dataField) {\n            this._dataField = dataField;\n        };\n        /**\n         * @param {?} requestOptions\n         * @return {?}\n         */\n        RemoteData.prototype.requestOptions = /**\n         * @param {?} requestOptions\n         * @return {?}\n         */\n        function (requestOptions) {\n            this._requestOptions = requestOptions;\n        };\n        /**\n         * @param {?} term\n         * @return {?}\n         */\n        RemoteData.prototype.search = /**\n         * @param {?} term\n         * @return {?}\n         */\n        function (term) {\n            var _this = this;\n            this.cancel();\n            /** @type {?} */\n            var url = \"\";\n            if (this._urlFormater) {\n                url = this._urlFormater(term);\n            }\n            else {\n                url = this._remoteUrl + encodeURIComponent(term);\n            }\n            this.remoteSearch = this.http\n                .get(url, Object.assign({}, this._requestOptions))\n                .pipe(operators.map(function (data) {\n                /** @type {?} */\n                var matches = _this.extractValue(data, _this._dataField);\n                return _this.extractMatches(matches, term);\n            }), operators.catchError(function () { return []; }))\n                .subscribe(function (matches) {\n                /** @type {?} */\n                var results = _this.processResults(matches);\n                _this.next(results);\n            });\n        };\n        /**\n         * @return {?}\n         */\n        RemoteData.prototype.cancel = /**\n         * @return {?}\n         */\n        function () {\n            if (this.remoteSearch) {\n                this.remoteSearch.unsubscribe();\n            }\n        };\n        /**\n         * @param {?} data\n         * @return {?}\n         */\n        RemoteData.prototype.convertToItem = /**\n         * @param {?} data\n         * @return {?}\n         */\n        function (data) {\n            return _super.prototype.convertToItem.call(this, data);\n        };\n        return RemoteData;\n    }(CompleterBaseData));\n\n    /**\n     * @fileoverview added by tsickle\n     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n     */\n    var LocalDataFactory = /** @class */ (function () {\n        function LocalDataFactory() {\n        }\n        /**\n         * @return {?}\n         */\n        LocalDataFactory.prototype.create = /**\n         * @return {?}\n         */\n        function () {\n            return new LocalData();\n        };\n        LocalDataFactory.decorators = [\n            { type: core.Injectable },\n        ];\n        return LocalDataFactory;\n    }());\n\n    /**\n     * @fileoverview added by tsickle\n     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n     */\n    var RemoteDataFactory = /** @class */ (function () {\n        function RemoteDataFactory(http$$1) {\n            this.http = http$$1;\n        }\n        /**\n         * @return {?}\n         */\n        RemoteDataFactory.prototype.create = /**\n         * @return {?}\n         */\n        function () {\n            return new RemoteData(this.http);\n        };\n        RemoteDataFactory.decorators = [\n            { type: core.Injectable },\n        ];\n        /** @nocollapse */\n        RemoteDataFactory.ctorParameters = function () { return [\n            { type: http.HttpClient }\n        ]; };\n        return RemoteDataFactory;\n    }());\n\n    /**\n     * @fileoverview added by tsickle\n     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n     */\n    var CompleterService = /** @class */ (function () {\n        function CompleterService(localDataFactory, remoteDataFactory // Using any instead of () => LocalData because of AoT errors\n        ) {\n            this.localDataFactory = localDataFactory;\n            this.remoteDataFactory = remoteDataFactory;\n        }\n        /**\n         * @param {?} data\n         * @param {?=} searchFields\n         * @param {?=} titleField\n         * @return {?}\n         */\n        CompleterService.prototype.local = /**\n         * @param {?} data\n         * @param {?=} searchFields\n         * @param {?=} titleField\n         * @return {?}\n         */\n        function (data, searchFields, titleField) {\n            if (searchFields === void 0) { searchFields = \"\"; }\n            if (titleField === void 0) { titleField = \"\"; }\n            /** @type {?} */\n            var localData = this.localDataFactory.create();\n            return localData\n                .data(data)\n                .searchFields(searchFields)\n                .titleField(titleField);\n        };\n        /**\n         * @param {?} url\n         * @param {?=} searchFields\n         * @param {?=} titleField\n         * @return {?}\n         */\n        CompleterService.prototype.remote = /**\n         * @param {?} url\n         * @param {?=} searchFields\n         * @param {?=} titleField\n         * @return {?}\n         */\n        function (url, searchFields, titleField) {\n            if (searchFields === void 0) { searchFields = \"\"; }\n            if (titleField === void 0) { titleField = \"\"; }\n            /** @type {?} */\n            var remoteData = this.remoteDataFactory.create();\n            return remoteData\n                .remoteUrl(url)\n                .searchFields(searchFields)\n                .titleField(titleField);\n        };\n        CompleterService.decorators = [\n            { type: core.Injectable },\n        ];\n        /** @nocollapse */\n        CompleterService.ctorParameters = function () { return [\n            { type: LocalDataFactory },\n            { type: RemoteDataFactory }\n        ]; };\n        return CompleterService;\n    }());\n\n    /**\n     * @fileoverview added by tsickle\n     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n     */\n    var CtrCompleter = /** @class */ (function () {\n        function CtrCompleter() {\n            this.selected = new core.EventEmitter();\n            this.highlighted = new core.EventEmitter();\n            this.opened = new core.EventEmitter();\n            this.dataSourceChange = new core.EventEmitter();\n            this.list = null;\n            this.dropdown = null;\n            this._hasHighlighted = false;\n            this._hasSelected = false;\n            this._cancelBlur = false;\n            this._isOpen = false;\n            this._autoHighlightIndex = null;\n        }\n        /**\n         * @param {?} list\n         * @return {?}\n         */\n        CtrCompleter.prototype.registerList = /**\n         * @param {?} list\n         * @return {?}\n         */\n        function (list) {\n            this.list = list;\n        };\n        /**\n         * @param {?} dropdown\n         * @return {?}\n         */\n        CtrCompleter.prototype.registerDropdown = /**\n         * @param {?} dropdown\n         * @return {?}\n         */\n        function (dropdown) {\n            this.dropdown = dropdown;\n        };\n        /**\n         * @param {?} item\n         * @return {?}\n         */\n        CtrCompleter.prototype.onHighlighted = /**\n         * @param {?} item\n         * @return {?}\n         */\n        function (item) {\n            this.highlighted.emit(item);\n            this._hasHighlighted = !!item;\n        };\n        /**\n         * @param {?} item\n         * @param {?=} clearList\n         * @return {?}\n         */\n        CtrCompleter.prototype.onSelected = /**\n         * @param {?} item\n         * @param {?=} clearList\n         * @return {?}\n         */\n        function (item, clearList) {\n            if (clearList === void 0) { clearList = true; }\n            this.selected.emit(item);\n            if (item) {\n                this._hasSelected = true;\n            }\n            if (clearList) {\n                this.clear();\n            }\n        };\n        /**\n         * @return {?}\n         */\n        CtrCompleter.prototype.onDataSourceChange = /**\n         * @return {?}\n         */\n        function () {\n            if (this.hasSelected) {\n                this.selected.emit(null);\n                this._hasSelected = false;\n            }\n            this.dataSourceChange.emit();\n        };\n        /**\n         * @param {?} term\n         * @return {?}\n         */\n        CtrCompleter.prototype.search = /**\n         * @param {?} term\n         * @return {?}\n         */\n        function (term) {\n            if (this._hasSelected) {\n                this.selected.emit(null);\n                this._hasSelected = false;\n            }\n            if (this.list) {\n                this.list.search(term);\n            }\n        };\n        /**\n         * @return {?}\n         */\n        CtrCompleter.prototype.clear = /**\n         * @return {?}\n         */\n        function () {\n            this._hasHighlighted = false;\n            this.isOpen = false;\n            if (this.dropdown) {\n                this.dropdown.clear();\n            }\n            if (this.list) {\n                this.list.clear();\n            }\n        };\n        /**\n         * @return {?}\n         */\n        CtrCompleter.prototype.selectCurrent = /**\n         * @return {?}\n         */\n        function () {\n            if (this.dropdown) {\n                this.dropdown.selectCurrent();\n            }\n        };\n        /**\n         * @return {?}\n         */\n        CtrCompleter.prototype.nextRow = /**\n         * @return {?}\n         */\n        function () {\n            if (this.dropdown) {\n                this.dropdown.nextRow();\n            }\n        };\n        /**\n         * @return {?}\n         */\n        CtrCompleter.prototype.prevRow = /**\n         * @return {?}\n         */\n        function () {\n            if (this.dropdown) {\n                this.dropdown.prevRow();\n            }\n        };\n        /**\n         * @return {?}\n         */\n        CtrCompleter.prototype.hasHighlighted = /**\n         * @return {?}\n         */\n        function () {\n            return this._hasHighlighted;\n        };\n        /**\n         * @param {?} cancel\n         * @return {?}\n         */\n        CtrCompleter.prototype.cancelBlur = /**\n         * @param {?} cancel\n         * @return {?}\n         */\n        function (cancel) {\n            this._cancelBlur = cancel;\n        };\n        /**\n         * @return {?}\n         */\n        CtrCompleter.prototype.isCancelBlur = /**\n         * @return {?}\n         */\n        function () {\n            return this._cancelBlur;\n        };\n        /**\n         * @return {?}\n         */\n        CtrCompleter.prototype.open = /**\n         * @return {?}\n         */\n        function () {\n            if (!this._isOpen && !!this.list) {\n                this.isOpen = true;\n                this.list.open();\n            }\n        };\n        Object.defineProperty(CtrCompleter.prototype, \"isOpen\", {\n            get: /**\n             * @return {?}\n             */\n            function () {\n                return this._isOpen;\n            },\n            set: /**\n             * @param {?} open\n             * @return {?}\n             */\n            function (open) {\n                this._isOpen = open;\n                this.opened.emit(this._isOpen);\n                if (this.list) {\n                    this.list.isOpen(open);\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(CtrCompleter.prototype, \"autoHighlightIndex\", {\n            get: /**\n             * @return {?}\n             */\n            function () {\n                return this._autoHighlightIndex;\n            },\n            set: /**\n             * @param {?} index\n             * @return {?}\n             */\n            function (index) {\n                this._autoHighlightIndex = index;\n                if (this.dropdown) {\n                    this.dropdown.highlightRow(this._autoHighlightIndex);\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(CtrCompleter.prototype, \"hasSelected\", {\n            get: /**\n             * @return {?}\n             */\n            function () {\n                return this._hasSelected;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        CtrCompleter.decorators = [\n            { type: core.Directive, args: [{\n                        selector: \"[ctrCompleter]\",\n                    },] },\n        ];\n        CtrCompleter.propDecorators = {\n            selected: [{ type: core.Output }],\n            highlighted: [{ type: core.Output }],\n            opened: [{ type: core.Output }],\n            dataSourceChange: [{ type: core.Output }]\n        };\n        return CtrCompleter;\n    }());\n\n    /**\n     * @fileoverview added by tsickle\n     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n     */\n    var CtrRowItem = /** @class */ (function () {\n        function CtrRowItem(row, index) {\n            this.row = row;\n            this.index = index;\n        }\n        return CtrRowItem;\n    }());\n    var CtrDropdown = /** @class */ (function () {\n        function CtrDropdown(completer, el, zone) {\n            this.completer = completer;\n            this.el = el;\n            this.zone = zone;\n            this.rows = [];\n            this.isScrollOn = false;\n            this._rowMouseDown = false;\n            this.completer.registerDropdown(this);\n        }\n        /**\n         * @return {?}\n         */\n        CtrDropdown.prototype.ngOnDestroy = /**\n         * @return {?}\n         */\n        function () {\n            this.completer.registerDropdown(null);\n        };\n        /**\n         * @return {?}\n         */\n        CtrDropdown.prototype.ngAfterViewInit = /**\n         * @return {?}\n         */\n        function () {\n            var _this = this;\n            /** @type {?} */\n            var css = getComputedStyle(this.el.nativeElement);\n            /** @type {?} */\n            var autoHighlightIndex = this.completer.autoHighlightIndex;\n            this.isScrollOn = !!css.maxHeight && css.overflowY === \"auto\";\n            if (autoHighlightIndex) {\n                this.zone.run(function () {\n                    _this.highlightRow(autoHighlightIndex);\n                });\n            }\n        };\n        /**\n         * @param {?} event\n         * @return {?}\n         */\n        CtrDropdown.prototype.onMouseDown = /**\n         * @param {?} event\n         * @return {?}\n         */\n        function (event) {\n            var _this = this;\n            // Support for canceling blur on IE (issue #158)\n            if (!this._rowMouseDown) {\n                this.completer.cancelBlur(true);\n                this.zone.run(function () {\n                    _this.completer.cancelBlur(false);\n                });\n            }\n            else {\n                this._rowMouseDown = false;\n            }\n        };\n        /**\n         * @param {?} row\n         * @return {?}\n         */\n        CtrDropdown.prototype.registerRow = /**\n         * @param {?} row\n         * @return {?}\n         */\n        function (row) {\n            /** @type {?} */\n            var arrIndex = this.rows.findIndex(function (_row) { return _row.index === row.index; });\n            if (arrIndex >= 0) {\n                this.rows[arrIndex] = row;\n            }\n            else {\n                this.rows.push(row);\n            }\n        };\n        /**\n         * @param {?} rowIndex\n         * @return {?}\n         */\n        CtrDropdown.prototype.unregisterRow = /**\n         * @param {?} rowIndex\n         * @return {?}\n         */\n        function (rowIndex) {\n            /** @type {?} */\n            var arrIndex = this.rows.findIndex(function (_row) { return _row.index === rowIndex; });\n            this.rows.splice(arrIndex, 1);\n            if (this.currHighlighted && rowIndex === this.currHighlighted.index) {\n                this.highlightRow(null);\n            }\n        };\n        /**\n         * @param {?} index\n         * @return {?}\n         */\n        CtrDropdown.prototype.highlightRow = /**\n         * @param {?} index\n         * @return {?}\n         */\n        function (index) {\n            /** @type {?} */\n            var highlighted = this.rows.find(function (row) { return row.index === index; });\n            if (isNil(index) || /** @type {?} */ ((index)) < 0) {\n                if (this.currHighlighted) {\n                    this.currHighlighted.row.setHighlighted(false);\n                }\n                this.currHighlighted = undefined;\n                this.completer.onHighlighted(null);\n                return;\n            }\n            if (!highlighted) {\n                return;\n            }\n            if (this.currHighlighted) {\n                this.currHighlighted.row.setHighlighted(false);\n            }\n            this.currHighlighted = highlighted;\n            this.currHighlighted.row.setHighlighted(true);\n            this.completer.onHighlighted(this.currHighlighted.row.getDataItem());\n            if (this.isScrollOn && this.currHighlighted) {\n                /** @type {?} */\n                var rowTop = this.dropdownRowTop();\n                if (!rowTop) {\n                    return;\n                }\n                if (rowTop < 0) {\n                    this.dropdownScrollTopTo(rowTop - 1);\n                }\n                else {\n                    /** @type {?} */\n                    var row = this.currHighlighted.row.getNativeElement();\n                    if (this.dropdownHeight() < row.getBoundingClientRect().bottom) {\n                        this.dropdownScrollTopTo(this.dropdownRowOffsetHeight(row));\n                        if (this.el.nativeElement.getBoundingClientRect().bottom - this.dropdownRowOffsetHeight(row) < row.getBoundingClientRect().top) {\n                            this.dropdownScrollTopTo(row.getBoundingClientRect().top - (this.el.nativeElement.getBoundingClientRect().top + parseInt(/** @type {?} */ (getComputedStyle(this.el.nativeElement).paddingTop), 10)));\n                        }\n                    }\n                }\n            }\n        };\n        /**\n         * @return {?}\n         */\n        CtrDropdown.prototype.clear = /**\n         * @return {?}\n         */\n        function () {\n            this.rows = [];\n        };\n        /**\n         * @param {?} item\n         * @return {?}\n         */\n        CtrDropdown.prototype.onSelected = /**\n         * @param {?} item\n         * @return {?}\n         */\n        function (item) {\n            this.completer.onSelected(item);\n        };\n        /**\n         * @return {?}\n         */\n        CtrDropdown.prototype.rowMouseDown = /**\n         * @return {?}\n         */\n        function () {\n            this._rowMouseDown = true;\n        };\n        /**\n         * @return {?}\n         */\n        CtrDropdown.prototype.selectCurrent = /**\n         * @return {?}\n         */\n        function () {\n            if (!!this.currHighlighted && !!this.currHighlighted.row) {\n                this.onSelected(this.currHighlighted.row.getDataItem());\n            }\n            else if (this.rows.length > 0) {\n                this.onSelected(this.rows[0].row.getDataItem());\n            }\n        };\n        /**\n         * @return {?}\n         */\n        CtrDropdown.prototype.nextRow = /**\n         * @return {?}\n         */\n        function () {\n            /** @type {?} */\n            var nextRowIndex = 0;\n            if (this.currHighlighted) {\n                nextRowIndex = this.currHighlighted.index + 1;\n            }\n            this.highlightRow(nextRowIndex);\n        };\n        /**\n         * @return {?}\n         */\n        CtrDropdown.prototype.prevRow = /**\n         * @return {?}\n         */\n        function () {\n            /** @type {?} */\n            var nextRowIndex = -1;\n            if (this.currHighlighted) {\n                nextRowIndex = this.currHighlighted.index - 1;\n            }\n            this.highlightRow(nextRowIndex);\n        };\n        /**\n         * @param {?} offset\n         * @return {?}\n         */\n        CtrDropdown.prototype.dropdownScrollTopTo = /**\n         * @param {?} offset\n         * @return {?}\n         */\n        function (offset) {\n            this.el.nativeElement.scrollTop = this.el.nativeElement.scrollTop + offset;\n        };\n        /**\n         * @return {?}\n         */\n        CtrDropdown.prototype.dropdownRowTop = /**\n         * @return {?}\n         */\n        function () {\n            if (!this.currHighlighted) {\n                return;\n            }\n            return this.currHighlighted.row.getNativeElement().getBoundingClientRect().top -\n                (this.el.nativeElement.getBoundingClientRect().top +\n                    parseInt(/** @type {?} */ (getComputedStyle(this.el.nativeElement).paddingTop), 10));\n        };\n        /**\n         * @return {?}\n         */\n        CtrDropdown.prototype.dropdownHeight = /**\n         * @return {?}\n         */\n        function () {\n            return this.el.nativeElement.getBoundingClientRect().top +\n                parseInt(/** @type {?} */ (getComputedStyle(this.el.nativeElement).maxHeight), 10);\n        };\n        /**\n         * @param {?} row\n         * @return {?}\n         */\n        CtrDropdown.prototype.dropdownRowOffsetHeight = /**\n         * @param {?} row\n         * @return {?}\n         */\n        function (row) {\n            /** @type {?} */\n            var css = getComputedStyle(row.parentElement);\n            return row.parentElement.offsetHeight +\n                parseInt(/** @type {?} */ (css.marginTop), 10) + parseInt(/** @type {?} */ (css.marginBottom), 10);\n        };\n        CtrDropdown.decorators = [\n            { type: core.Directive, args: [{\n                        selector: \"[ctrDropdown]\",\n                    },] },\n        ];\n        /** @nocollapse */\n        CtrDropdown.ctorParameters = function () { return [\n            { type: CtrCompleter, decorators: [{ type: core.Host }] },\n            { type: core.ElementRef },\n            { type: core.NgZone }\n        ]; };\n        CtrDropdown.propDecorators = {\n            onMouseDown: [{ type: core.HostListener, args: [\"mousedown\", [\"$event\"],] }]\n        };\n        return CtrDropdown;\n    }());\n\n    /**\n     * @fileoverview added by tsickle\n     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n     */\n    /** @type {?} */\n    var KEY_DW = 40;\n    /** @type {?} */\n    var KEY_RT = 39;\n    /** @type {?} */\n    var KEY_UP = 38;\n    /** @type {?} */\n    var KEY_LF = 37;\n    /** @type {?} */\n    var KEY_ES = 27;\n    /** @type {?} */\n    var KEY_EN = 13;\n    /** @type {?} */\n    var KEY_TAB = 9;\n    /** @type {?} */\n    var KEY_BK = 8;\n    /** @type {?} */\n    var KEY_SH = 16;\n    /** @type {?} */\n    var KEY_CL = 20;\n    /** @type {?} */\n    var KEY_F1 = 112;\n    /** @type {?} */\n    var KEY_F12 = 123;\n    var CtrInput = /** @class */ (function () {\n        function CtrInput(completer, ngModel, el) {\n            var _this = this;\n            this.completer = completer;\n            this.ngModel = ngModel;\n            this.el = el;\n            this.clearSelected = false;\n            this.clearUnselected = false;\n            this.overrideSuggested = false;\n            this.fillHighlighted = true;\n            this.openOnFocus = false;\n            this.openOnClick = false;\n            this.selectOnClick = false;\n            this.selectOnFocus = false;\n            this.ngModelChange = new core.EventEmitter();\n            this._searchStr = \"\";\n            this._displayStr = \"\";\n            this.blurTimer = null;\n            this.completer.selected.subscribe(function (item) {\n                if (!item) {\n                    return;\n                }\n                if (_this.clearSelected) {\n                    _this.searchStr = \"\";\n                }\n                else {\n                    _this.searchStr = item.title;\n                }\n                _this.ngModelChange.emit(_this.searchStr);\n            });\n            this.completer.highlighted.subscribe(function (item) {\n                if (_this.fillHighlighted) {\n                    if (item) {\n                        _this._displayStr = item.title;\n                        _this.ngModelChange.emit(item.title);\n                    }\n                    else {\n                        _this._displayStr = _this.searchStr;\n                        _this.ngModelChange.emit(_this.searchStr);\n                    }\n                }\n            });\n            this.completer.dataSourceChange.subscribe(function () {\n                _this.completer.search(_this.searchStr);\n            });\n            if (this.ngModel.valueChanges) {\n                this.ngModel.valueChanges.subscribe(function (value) {\n                    if (!isNil(value) && _this._displayStr !== value) {\n                        if (_this.searchStr !== value) {\n                            _this.completer.search(value);\n                        }\n                        _this.searchStr = value;\n                    }\n                });\n            }\n        }\n        /**\n         * @param {?} event\n         * @return {?}\n         */\n        CtrInput.prototype.keyupHandler = /**\n         * @param {?} event\n         * @return {?}\n         */\n        function (event) {\n            if (event.keyCode === KEY_LF || event.keyCode === KEY_RT || event.keyCode === KEY_TAB) {\n                // do nothing\n                return;\n            }\n            if (event.keyCode === KEY_UP || event.keyCode === KEY_EN) {\n                event.preventDefault();\n            }\n            else if (event.keyCode === KEY_DW) {\n                event.preventDefault();\n                this.completer.search(this.searchStr);\n            }\n            else if (event.keyCode === KEY_ES) {\n                if (this.completer.isOpen) {\n                    this.restoreSearchValue();\n                    this.completer.clear();\n                    event.stopPropagation();\n                    event.preventDefault();\n                }\n            }\n        };\n        /**\n         * @param {?} event\n         * @return {?}\n         */\n        CtrInput.prototype.pasteHandler = /**\n         * @param {?} event\n         * @return {?}\n         */\n        function (event) {\n            this.completer.open();\n        };\n        /**\n         * @param {?} event\n         * @return {?}\n         */\n        CtrInput.prototype.keydownHandler = /**\n         * @param {?} event\n         * @return {?}\n         */\n        function (event) {\n            /** @type {?} */\n            var keyCode = event.keyCode || event.which;\n            if (keyCode === KEY_EN) {\n                if (this.completer.hasHighlighted()) {\n                    event.preventDefault();\n                }\n                this.handleSelection();\n            }\n            else if (keyCode === KEY_DW) {\n                event.preventDefault();\n                this.completer.open();\n                this.completer.nextRow();\n            }\n            else if (keyCode === KEY_UP) {\n                event.preventDefault();\n                this.completer.prevRow();\n            }\n            else if (keyCode === KEY_TAB) {\n                this.handleSelection();\n            }\n            else if (keyCode === KEY_BK) {\n                this.completer.open();\n            }\n            else if (keyCode === KEY_ES) {\n                // This is very specific to IE10/11 #272\n                // without this, IE clears the input text\n                event.preventDefault();\n                if (this.completer.isOpen) {\n                    event.stopPropagation();\n                }\n            }\n            else {\n                if (keyCode !== 0 && keyCode !== KEY_SH && keyCode !== KEY_CL &&\n                    (keyCode <= KEY_F1 || keyCode >= KEY_F12) &&\n                    !event.ctrlKey && !event.metaKey && !event.altKey) {\n                    this.completer.open();\n                }\n            }\n        };\n        /**\n         * @param {?} event\n         * @return {?}\n         */\n        CtrInput.prototype.onBlur = /**\n         * @param {?} event\n         * @return {?}\n         */\n        function (event) {\n            var _this = this;\n            // Check if we need to cancel Blur for IE\n            if (this.completer.isCancelBlur()) {\n                setTimeout(function () {\n                    // get the focus back\n                    // get the focus back\n                    _this.el.nativeElement.focus();\n                }, 0);\n                return;\n            }\n            if (this.completer.isOpen) {\n                this.blurTimer = timer(200).pipe(operators.take(1)).subscribe(function () { return _this.doBlur(); });\n            }\n        };\n        /**\n         * @return {?}\n         */\n        CtrInput.prototype.onfocus = /**\n         * @return {?}\n         */\n        function () {\n            if (this.blurTimer) {\n                this.blurTimer.unsubscribe();\n                this.blurTimer = null;\n            }\n            if (this.selectOnFocus) {\n                this.el.nativeElement.select();\n            }\n            if (this.openOnFocus) {\n                this.completer.open();\n            }\n        };\n        /**\n         * @param {?} event\n         * @return {?}\n         */\n        CtrInput.prototype.onClick = /**\n         * @param {?} event\n         * @return {?}\n         */\n        function (event) {\n            if (this.selectOnClick) {\n                this.el.nativeElement.select();\n            }\n            if (this.openOnClick) {\n                if (this.completer.isOpen) {\n                    this.completer.clear();\n                }\n                else {\n                    this.completer.open();\n                }\n            }\n        };\n        Object.defineProperty(CtrInput.prototype, \"searchStr\", {\n            get: /**\n             * @return {?}\n             */\n            function () {\n                return this._searchStr;\n            },\n            set: /**\n             * @param {?} term\n             * @return {?}\n             */\n            function (term) {\n                this._searchStr = term;\n                this._displayStr = term;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        /**\n         * @return {?}\n         */\n        CtrInput.prototype.handleSelection = /**\n         * @return {?}\n         */\n        function () {\n            if (this.completer.hasHighlighted()) {\n                this._searchStr = \"\";\n                this.completer.selectCurrent();\n            }\n            else if (this.overrideSuggested) {\n                this.completer.onSelected({ title: this.searchStr, originalObject: null });\n            }\n            else {\n                if (this.clearUnselected && !this.completer.hasSelected) {\n                    this.searchStr = \"\";\n                    this.ngModelChange.emit(this.searchStr);\n                }\n                this.completer.clear();\n            }\n        };\n        /**\n         * @return {?}\n         */\n        CtrInput.prototype.restoreSearchValue = /**\n         * @return {?}\n         */\n        function () {\n            if (this.fillHighlighted) {\n                if (this._displayStr != this.searchStr) {\n                    this._displayStr = this.searchStr;\n                    this.ngModelChange.emit(this.searchStr);\n                }\n            }\n        };\n        /**\n         * @return {?}\n         */\n        CtrInput.prototype.doBlur = /**\n         * @return {?}\n         */\n        function () {\n            if (this.blurTimer) {\n                this.blurTimer.unsubscribe();\n                this.blurTimer = null;\n            }\n            if (this.overrideSuggested) {\n                this.completer.onSelected({ title: this.searchStr, originalObject: null });\n            }\n            else {\n                if (this.clearUnselected && !this.completer.hasSelected) {\n                    this.searchStr = \"\";\n                    this.ngModelChange.emit(this.searchStr);\n                }\n                else {\n                    this.restoreSearchValue();\n                }\n            }\n            this.completer.clear();\n        };\n        CtrInput.decorators = [\n            { type: core.Directive, args: [{\n                        selector: \"[ctrInput]\",\n                    },] },\n        ];\n        /** @nocollapse */\n        CtrInput.ctorParameters = function () { return [\n            { type: CtrCompleter, decorators: [{ type: core.Host }] },\n            { type: forms.NgModel },\n            { type: core.ElementRef }\n        ]; };\n        CtrInput.propDecorators = {\n            clearSelected: [{ type: core.Input, args: [\"clearSelected\",] }],\n            clearUnselected: [{ type: core.Input, args: [\"clearUnselected\",] }],\n            overrideSuggested: [{ type: core.Input, args: [\"overrideSuggested\",] }],\n            fillHighlighted: [{ type: core.Input, args: [\"fillHighlighted\",] }],\n            openOnFocus: [{ type: core.Input, args: [\"openOnFocus\",] }],\n            openOnClick: [{ type: core.Input, args: [\"openOnClick\",] }],\n            selectOnClick: [{ type: core.Input, args: [\"selectOnClick\",] }],\n            selectOnFocus: [{ type: core.Input, args: [\"selectOnFocus\",] }],\n            ngModelChange: [{ type: core.Output }],\n            keyupHandler: [{ type: core.HostListener, args: [\"keyup\", [\"$event\"],] }],\n            pasteHandler: [{ type: core.HostListener, args: [\"paste\", [\"$event\"],] }],\n            keydownHandler: [{ type: core.HostListener, args: [\"keydown\", [\"$event\"],] }],\n            onBlur: [{ type: core.HostListener, args: [\"blur\", [\"$event\"],] }],\n            onfocus: [{ type: core.HostListener, args: [\"focus\", [],] }],\n            onClick: [{ type: core.HostListener, args: [\"click\", [\"$event\"],] }]\n        };\n        return CtrInput;\n    }());\n\n    /**\n     * @fileoverview added by tsickle\n     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n     */\n    var CtrListContext = /** @class */ (function () {\n        function CtrListContext(results, searching, searchInitialized, isOpen) {\n            this.results = results;\n            this.searching = searching;\n            this.searchInitialized = searchInitialized;\n            this.isOpen = isOpen;\n        }\n        return CtrListContext;\n    }());\n    var CtrList = /** @class */ (function () {\n        function CtrList(completer, templateRef, viewContainer, cd, zone) {\n            this.completer = completer;\n            this.templateRef = templateRef;\n            this.viewContainer = viewContainer;\n            this.cd = cd;\n            this.zone = zone;\n            this.ctrListMinSearchLength = MIN_SEARCH_LENGTH;\n            this.ctrListPause = PAUSE;\n            this.ctrListAutoMatch = false;\n            this.ctrListAutoHighlight = false;\n            this.ctrListDisplaySearching = true;\n            this._dataService = null;\n            this.term = null;\n            this.searchTimer = null;\n            this.clearTimer = null;\n            this.ctx = new CtrListContext([], false, false, false);\n            this._initialValue = null;\n            this.viewRef = null;\n        }\n        /**\n         * @return {?}\n         */\n        CtrList.prototype.ngOnInit = /**\n         * @return {?}\n         */\n        function () {\n            this.completer.registerList(this);\n            this.viewRef = this.viewContainer.createEmbeddedView(this.templateRef, new CtrListContext([], false, false, false));\n        };\n        Object.defineProperty(CtrList.prototype, \"dataService\", {\n            set: /**\n             * @param {?} newService\n             * @return {?}\n             */\n            function (newService) {\n                this._dataService = newService;\n                this.dataServiceSubscribe();\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(CtrList.prototype, \"initialValue\", {\n            set: /**\n             * @param {?} value\n             * @return {?}\n             */\n            function (value) {\n                var _this = this;\n                if (this._dataService && typeof this._dataService.convertToItem === \"function\") {\n                    this.zone.run(function () {\n                        /** @type {?} */\n                        var initialItem = _this._dataService && /** @type {?} */ ((_this._dataService.convertToItem))(value);\n                        if (initialItem) {\n                            _this.completer.onSelected(initialItem, false);\n                        }\n                    });\n                }\n                else if (!this._dataService) {\n                    this._initialValue = value;\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        /**\n         * @param {?} term\n         * @return {?}\n         */\n        CtrList.prototype.search = /**\n         * @param {?} term\n         * @return {?}\n         */\n        function (term) {\n            var _this = this;\n            if (!isNil(term) && term.length >= this.ctrListMinSearchLength && this.term !== term) {\n                if (this.searchTimer) {\n                    this.searchTimer.unsubscribe();\n                    this.searchTimer = null;\n                }\n                if (!this.ctx.searching) {\n                    if (this.ctrListDisplaySearching) {\n                        this.ctx.results = [];\n                    }\n                    this.ctx.searching = true;\n                    this.ctx.searchInitialized = true;\n                    this.refreshTemplate();\n                }\n                if (this.clearTimer) {\n                    this.clearTimer.unsubscribe();\n                }\n                this.searchTimer = timer(this.ctrListPause).pipe(operators.take(1)).subscribe(function () {\n                    _this.searchTimerComplete(term);\n                });\n            }\n            else if (!isNil(term) && term.length < this.ctrListMinSearchLength) {\n                this.clear();\n                this.term = \"\";\n            }\n        };\n        /**\n         * @return {?}\n         */\n        CtrList.prototype.clear = /**\n         * @return {?}\n         */\n        function () {\n            var _this = this;\n            if (this.searchTimer) {\n                this.searchTimer.unsubscribe();\n            }\n            this.clearTimer = timer(CLEAR_TIMEOUT).pipe(operators.take(1)).subscribe(function () {\n                _this._clear();\n            });\n        };\n        /**\n         * @return {?}\n         */\n        CtrList.prototype.open = /**\n         * @return {?}\n         */\n        function () {\n            if (!this.ctx.searchInitialized) {\n                this.search(\"\");\n            }\n            this.refreshTemplate();\n        };\n        /**\n         * @param {?} open\n         * @return {?}\n         */\n        CtrList.prototype.isOpen = /**\n         * @param {?} open\n         * @return {?}\n         */\n        function (open) {\n            this.ctx.isOpen = open;\n        };\n        /**\n         * @return {?}\n         */\n        CtrList.prototype._clear = /**\n         * @return {?}\n         */\n        function () {\n            if (this.searchTimer) {\n                this.searchTimer.unsubscribe();\n                this.searchTimer = null;\n            }\n            if (this.dataService) {\n                this.dataService.cancel();\n            }\n            this.viewContainer.clear();\n            this.viewRef = null;\n        };\n        /**\n         * @param {?} term\n         * @return {?}\n         */\n        CtrList.prototype.searchTimerComplete = /**\n         * @param {?} term\n         * @return {?}\n         */\n        function (term) {\n            // Begin the search\n            if (isNil(term) || term.length < this.ctrListMinSearchLength) {\n                this.ctx.searching = false;\n                return;\n            }\n            this.term = term;\n            if (this._dataService) {\n                this._dataService.search(term);\n            }\n        };\n        /**\n         * @return {?}\n         */\n        CtrList.prototype.refreshTemplate = /**\n         * @return {?}\n         */\n        function () {\n            // create the template if it doesn't exist\n            if (!this.viewRef) {\n                this.viewRef = this.viewContainer.createEmbeddedView(this.templateRef, this.ctx);\n            }\n            else if (!this.viewRef.destroyed) {\n                /** @type {?} */ ((\n                // refresh the template\n                this.viewRef)).context.isOpen = this.ctx.isOpen; /** @type {?} */\n                ((this.viewRef)).context.results = this.ctx.results; /** @type {?} */\n                ((this.viewRef)).context.searching = this.ctx.searching; /** @type {?} */\n                ((this.viewRef)).context.searchInitialized = this.ctx.searchInitialized;\n                this.viewRef.detectChanges();\n            }\n            this.cd.markForCheck();\n        };\n        /**\n         * @return {?}\n         */\n        CtrList.prototype.getBestMatchIndex = /**\n         * @return {?}\n         */\n        function () {\n            var _this = this;\n            if (!this.ctx.results || !this.term) {\n                return null;\n            }\n            /** @type {?} */\n            var bestMatch = this.ctx.results.findIndex(function (item) { return item.title.toLowerCase() === /** @type {?} */ ((_this.term)).toLocaleLowerCase(); });\n            // If not try to find the first item that starts with the term\n            if (bestMatch < 0) {\n                bestMatch = this.ctx.results.findIndex(function (item) { return item.title.toLowerCase().startsWith(/** @type {?} */ ((_this.term)).toLocaleLowerCase()); });\n            }\n            // If not try to find the first item that includes the term\n            if (bestMatch < 0) {\n                bestMatch = this.ctx.results.findIndex(function (item) { return item.title.toLowerCase().includes(/** @type {?} */ ((_this.term)).toLocaleLowerCase()); });\n            }\n            return bestMatch < 0 ? null : bestMatch;\n        };\n        /**\n         * @return {?}\n         */\n        CtrList.prototype.dataServiceSubscribe = /**\n         * @return {?}\n         */\n        function () {\n            var _this = this;\n            if (this._dataService) {\n                this._dataService\n                    .subscribe(function (results) {\n                    _this.ctx.searchInitialized = true;\n                    _this.ctx.searching = false;\n                    _this.ctx.results = results;\n                    if (_this.ctrListAutoMatch && results &&\n                        results.length === 1 && results[0].title &&\n                        !isNil(_this.term) &&\n                        results[0].title.toLocaleLowerCase() === /** @type {?} */ ((_this.term)).toLocaleLowerCase()) {\n                        // Do automatch\n                        // Do automatch\n                        _this.completer.onSelected(results[0]);\n                        return;\n                    }\n                    _this.refreshTemplate();\n                    if (_this.ctrListAutoHighlight) {\n                        _this.completer.autoHighlightIndex = _this.getBestMatchIndex();\n                    }\n                }, function (error) {\n                    console.error(error);\n                    console.error(\"Unexpected error in dataService: errors should be handled by the dataService Observable\");\n                    return [];\n                });\n                if (this._dataService.dataSourceChange) {\n                    this._dataService.dataSourceChange.subscribe(function () {\n                        _this.term = null;\n                        _this.ctx.searchInitialized = false;\n                        _this.ctx.searching = false;\n                        _this.ctx.results = [];\n                        _this.refreshTemplate();\n                        _this.completer.onDataSourceChange();\n                    });\n                }\n            }\n        };\n        CtrList.decorators = [\n            { type: core.Directive, args: [{\n                        selector: \"[ctrList]\",\n                    },] },\n        ];\n        /** @nocollapse */\n        CtrList.ctorParameters = function () { return [\n            { type: CtrCompleter, decorators: [{ type: core.Host }] },\n            { type: core.TemplateRef },\n            { type: core.ViewContainerRef },\n            { type: core.ChangeDetectorRef },\n            { type: core.NgZone }\n        ]; };\n        CtrList.propDecorators = {\n            ctrListMinSearchLength: [{ type: core.Input }],\n            ctrListPause: [{ type: core.Input }],\n            ctrListAutoMatch: [{ type: core.Input }],\n            ctrListAutoHighlight: [{ type: core.Input }],\n            ctrListDisplaySearching: [{ type: core.Input }],\n            dataService: [{ type: core.Input, args: [\"ctrList\",] }],\n            initialValue: [{ type: core.Input, args: [\"ctrListInitialValue\",] }]\n        };\n        return CtrList;\n    }());\n\n    /**\n     * @fileoverview added by tsickle\n     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n     */\n    var CtrRow = /** @class */ (function () {\n        function CtrRow(el, renderer, dropdown) {\n            this.el = el;\n            this.renderer = renderer;\n            this.dropdown = dropdown;\n            this.selected = false;\n            this._rowIndex = 0;\n            this._item = null;\n        }\n        /**\n         * @return {?}\n         */\n        CtrRow.prototype.ngOnDestroy = /**\n         * @return {?}\n         */\n        function () {\n            if (this._rowIndex) {\n                this.dropdown.unregisterRow(this._rowIndex);\n            }\n        };\n        Object.defineProperty(CtrRow.prototype, \"ctrRow\", {\n            set: /**\n             * @param {?} index\n             * @return {?}\n             */\n            function (index) {\n                this._rowIndex = index;\n                this.dropdown.registerRow(new CtrRowItem(this, this._rowIndex));\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(CtrRow.prototype, \"dataItem\", {\n            set: /**\n             * @param {?} item\n             * @return {?}\n             */\n            function (item) {\n                this._item = item;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        /**\n         * @param {?} event\n         * @return {?}\n         */\n        CtrRow.prototype.onClick = /**\n         * @param {?} event\n         * @return {?}\n         */\n        function (event) {\n            this.dropdown.onSelected(this._item);\n        };\n        /**\n         * @param {?} event\n         * @return {?}\n         */\n        CtrRow.prototype.onMouseEnter = /**\n         * @param {?} event\n         * @return {?}\n         */\n        function (event) {\n            this.dropdown.highlightRow(this._rowIndex);\n        };\n        /**\n         * @param {?} event\n         * @return {?}\n         */\n        CtrRow.prototype.onMouseDown = /**\n         * @param {?} event\n         * @return {?}\n         */\n        function (event) {\n            this.dropdown.rowMouseDown();\n        };\n        /**\n         * @param {?} selected\n         * @return {?}\n         */\n        CtrRow.prototype.setHighlighted = /**\n         * @param {?} selected\n         * @return {?}\n         */\n        function (selected) {\n            this.selected = selected;\n            this.renderer.setElementClass(this.el.nativeElement, \"completer-selected-row\", this.selected);\n        };\n        /**\n         * @return {?}\n         */\n        CtrRow.prototype.getNativeElement = /**\n         * @return {?}\n         */\n        function () {\n            return this.el.nativeElement;\n        };\n        /**\n         * @return {?}\n         */\n        CtrRow.prototype.getDataItem = /**\n         * @return {?}\n         */\n        function () {\n            return this._item;\n        };\n        CtrRow.decorators = [\n            { type: core.Directive, args: [{\n                        selector: \"[ctrRow]\",\n                    },] },\n        ];\n        /** @nocollapse */\n        CtrRow.ctorParameters = function () { return [\n            { type: core.ElementRef },\n            { type: core.Renderer },\n            { type: CtrDropdown, decorators: [{ type: core.Host }] }\n        ]; };\n        CtrRow.propDecorators = {\n            ctrRow: [{ type: core.Input }],\n            dataItem: [{ type: core.Input }],\n            onClick: [{ type: core.HostListener, args: [\"click\", [\"$event\"],] }],\n            onMouseEnter: [{ type: core.HostListener, args: [\"mouseenter\", [\"$event\"],] }],\n            onMouseDown: [{ type: core.HostListener, args: [\"mousedown\", [\"$event\"],] }]\n        };\n        return CtrRow;\n    }());\n\n    /**\n     * @fileoverview added by tsickle\n     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n     */\n    var CompleterListItemCmp = /** @class */ (function () {\n        function CompleterListItemCmp() {\n            this.text = \"\";\n            this.searchStr = \"\";\n            this.matchClass = \"\";\n            this.type = \"\";\n            this.parts = [];\n        }\n        /**\n         * @return {?}\n         */\n        CompleterListItemCmp.prototype.ngOnInit = /**\n         * @return {?}\n         */\n        function () {\n            if (!this.searchStr) {\n                this.parts.push({ isMatch: false, text: this.text });\n                return;\n            }\n            /** @type {?} */\n            var matchStr = this.text.toLowerCase();\n            /** @type {?} */\n            var matchPos = matchStr.indexOf(this.searchStr.toLowerCase());\n            /** @type {?} */\n            var startIndex = 0;\n            while (matchPos >= 0) {\n                /** @type {?} */\n                var matchText = this.text.slice(matchPos, matchPos + this.searchStr.length);\n                if (matchPos === 0) {\n                    this.parts.push({ isMatch: true, text: matchText });\n                    startIndex += this.searchStr.length;\n                }\n                else if (matchPos > 0) {\n                    /** @type {?} */\n                    var matchPart = this.text.slice(startIndex, matchPos);\n                    this.parts.push({ isMatch: false, text: matchPart });\n                    this.parts.push({ isMatch: true, text: matchText });\n                    startIndex += this.searchStr.length + matchPart.length;\n                }\n                matchPos = matchStr.indexOf(this.searchStr.toLowerCase(), startIndex);\n            }\n            if (startIndex < this.text.length) {\n                this.parts.push({ isMatch: false, text: this.text.slice(startIndex, this.text.length) });\n            }\n        };\n        CompleterListItemCmp.decorators = [\n            { type: core.Component, args: [{\n                        selector: \"completer-list-item\",\n                        template: \"<span class=\\\"completer-list-item-holder\\\" [ngClass]= \\\"{'completer-title': type === 'title', 'completer-description': type === 'description'}\\\" >\\n        <span class=\\\"completer-list-item\\\" *ngFor=\\\"let part of parts\\\" [ngClass]= \\\"part.isMatch ? matchClass : null\\\">{{part.text}}</span>\\n    </span>\"\n                    },] },\n        ];\n        CompleterListItemCmp.propDecorators = {\n            text: [{ type: core.Input }],\n            searchStr: [{ type: core.Input }],\n            matchClass: [{ type: core.Input }],\n            type: [{ type: core.Input }]\n        };\n        return CompleterListItemCmp;\n    }());\n\n    /**\n     * @fileoverview added by tsickle\n     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n     */\n    /** @type {?} */\n    var noop$1 = function () {\n        return;\n    };\n    /** @type {?} */\n    var COMPLETER_CONTROL_VALUE_ACCESSOR = {\n        multi: true,\n        provide: forms.NG_VALUE_ACCESSOR,\n        useExisting: core.forwardRef(function () { return CompleterCmp; }),\n    };\n    var CompleterCmp = /** @class */ (function () {\n        function CompleterCmp(completerService, cdr) {\n            this.completerService = completerService;\n            this.cdr = cdr;\n            this.inputName = \"\";\n            this.inputId = \"\";\n            this.pause = PAUSE;\n            this.minSearchLength = MIN_SEARCH_LENGTH;\n            this.maxChars = MAX_CHARS;\n            this.overrideSuggested = false;\n            this.clearSelected = false;\n            this.clearUnselected = false;\n            this.fillHighlighted = true;\n            this.placeholder = \"\";\n            this.autoMatch = false;\n            this.disableInput = false;\n            this.autofocus = false;\n            this.openOnFocus = false;\n            this.openOnClick = false;\n            this.selectOnClick = false;\n            this.selectOnFocus = false;\n            this.autoHighlight = false;\n            this.selected = new core.EventEmitter();\n            this.highlighted = new core.EventEmitter();\n            this.blurEvent = new core.EventEmitter();\n            this.click = new core.EventEmitter();\n            this.focusEvent = new core.EventEmitter();\n            this.opened = new core.EventEmitter();\n            this.keyup = new core.EventEmitter();\n            this.keydown = new core.EventEmitter();\n            this.control = new forms.FormControl(\"\");\n            this.displaySearching = true;\n            this.displayNoResults = true;\n            this._textNoResults = TEXT_NO_RESULTS;\n            this._textSearching = TEXT_SEARCHING;\n            this._onTouchedCallback = noop$1;\n            this._onChangeCallback = noop$1;\n            this._focus = false;\n            this._open = false;\n            this._searchStr = \"\";\n        }\n        Object.defineProperty(CompleterCmp.prototype, \"value\", {\n            get: /**\n             * @return {?}\n             */\n            function () { return this.searchStr; },\n            set: /**\n             * @param {?} v\n             * @return {?}\n             */\n            function (v) {\n                if (v !== this.searchStr) {\n                    this.searchStr = v;\n                }\n                // Propagate the change in any case\n                this._onChangeCallback(v);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(CompleterCmp.prototype, \"searchStr\", {\n            get: /**\n             * @return {?}\n             */\n            function () {\n                return this._searchStr;\n            },\n            set: /**\n             * @param {?} value\n             * @return {?}\n             */\n            function (value) {\n                if (typeof value === \"string\" || isNil(value)) {\n                    this._searchStr = value;\n                }\n                else {\n                    this._searchStr = JSON.stringify(value);\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        /**\n         * @return {?}\n         */\n        CompleterCmp.prototype.ngAfterViewInit = /**\n         * @return {?}\n         */\n        function () {\n            if (this.autofocus) {\n                this._focus = true;\n            }\n        };\n        /**\n         * @return {?}\n         */\n        CompleterCmp.prototype.ngAfterViewChecked = /**\n         * @return {?}\n         */\n        function () {\n            var _this = this;\n            if (this._focus) {\n                setTimeout(function () {\n                    if (!!_this.ctrInput) {\n                        _this.ctrInput.nativeElement.focus();\n                        _this._focus = false;\n                    }\n                }, 0);\n            }\n        };\n        /**\n         * @return {?}\n         */\n        CompleterCmp.prototype.onTouched = /**\n         * @return {?}\n         */\n        function () {\n            this._onTouchedCallback();\n        };\n        /**\n         * @param {?} value\n         * @return {?}\n         */\n        CompleterCmp.prototype.writeValue = /**\n         * @param {?} value\n         * @return {?}\n         */\n        function (value) {\n            this.searchStr = value;\n        };\n        /**\n         * @param {?} fn\n         * @return {?}\n         */\n        CompleterCmp.prototype.registerOnChange = /**\n         * @param {?} fn\n         * @return {?}\n         */\n        function (fn) {\n            this._onChangeCallback = fn;\n        };\n        /**\n         * @param {?} fn\n         * @return {?}\n         */\n        CompleterCmp.prototype.registerOnTouched = /**\n         * @param {?} fn\n         * @return {?}\n         */\n        function (fn) {\n            this._onTouchedCallback = fn;\n        };\n        /**\n         * @param {?} isDisabled\n         * @return {?}\n         */\n        CompleterCmp.prototype.setDisabledState = /**\n         * @param {?} isDisabled\n         * @return {?}\n         */\n        function (isDisabled) {\n            this.disableInput = isDisabled;\n        };\n        Object.defineProperty(CompleterCmp.prototype, \"datasource\", {\n            set: /**\n             * @param {?} source\n             * @return {?}\n             */\n            function (source) {\n                if (source) {\n                    if (source instanceof Array) {\n                        this.dataService = this.completerService.local(source);\n                    }\n                    else if (typeof (source) === \"string\") {\n                        this.dataService = this.completerService.remote(source);\n                    }\n                    else {\n                        this.dataService = /** @type {?} */ (source);\n                    }\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(CompleterCmp.prototype, \"textNoResults\", {\n            set: /**\n             * @param {?} text\n             * @return {?}\n             */\n            function (text) {\n                if (this._textNoResults !== text) {\n                    this._textNoResults = text;\n                    this.displayNoResults = !!this._textNoResults && this._textNoResults !== \"false\";\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(CompleterCmp.prototype, \"textSearching\", {\n            set: /**\n             * @param {?} text\n             * @return {?}\n             */\n            function (text) {\n                if (this._textSearching !== text) {\n                    this._textSearching = text;\n                    this.displaySearching = !!this._textSearching && this._textSearching !== \"false\";\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        /**\n         * @return {?}\n         */\n        CompleterCmp.prototype.ngOnInit = /**\n         * @return {?}\n         */\n        function () {\n            var _this = this;\n            if (!this.completer) {\n                return;\n            }\n            this.completer.selected.subscribe(function (item) {\n                _this.selected.emit(item);\n            });\n            this.completer.highlighted.subscribe(function (item) {\n                _this.highlighted.emit(item);\n            });\n            this.completer.opened.subscribe(function (isOpen) {\n                _this._open = isOpen;\n                _this.opened.emit(isOpen);\n            });\n        };\n        /**\n         * @return {?}\n         */\n        CompleterCmp.prototype.onBlur = /**\n         * @return {?}\n         */\n        function () {\n            this.blurEvent.emit();\n            this.onTouched();\n            this.cdr.detectChanges();\n        };\n        /**\n         * @return {?}\n         */\n        CompleterCmp.prototype.onFocus = /**\n         * @return {?}\n         */\n        function () {\n            this.focusEvent.emit();\n            this.onTouched();\n        };\n        /**\n         * @param {?} event\n         * @return {?}\n         */\n        CompleterCmp.prototype.onClick = /**\n         * @param {?} event\n         * @return {?}\n         */\n        function (event) {\n            this.click.emit(event);\n            this.onTouched();\n        };\n        /**\n         * @param {?} event\n         * @return {?}\n         */\n        CompleterCmp.prototype.onKeyup = /**\n         * @param {?} event\n         * @return {?}\n         */\n        function (event) {\n            this.keyup.emit(event);\n            event.stopPropagation();\n        };\n        /**\n         * @param {?} event\n         * @return {?}\n         */\n        CompleterCmp.prototype.onKeydown = /**\n         * @param {?} event\n         * @return {?}\n         */\n        function (event) {\n            this.keydown.emit(event);\n            event.stopPropagation();\n        };\n        /**\n         * @param {?} value\n         * @return {?}\n         */\n        CompleterCmp.prototype.onChange = /**\n         * @param {?} value\n         * @return {?}\n         */\n        function (value) {\n            this.value = value;\n        };\n        /**\n         * @return {?}\n         */\n        CompleterCmp.prototype.open = /**\n         * @return {?}\n         */\n        function () {\n            if (!this.completer) {\n                return;\n            }\n            this.completer.open();\n        };\n        /**\n         * @return {?}\n         */\n        CompleterCmp.prototype.close = /**\n         * @return {?}\n         */\n        function () {\n            if (!this.completer) {\n                return;\n            }\n            this.completer.clear();\n        };\n        /**\n         * @return {?}\n         */\n        CompleterCmp.prototype.focus = /**\n         * @return {?}\n         */\n        function () {\n            if (this.ctrInput) {\n                this.ctrInput.nativeElement.focus();\n            }\n            else {\n                this._focus = true;\n            }\n        };\n        /**\n         * @return {?}\n         */\n        CompleterCmp.prototype.blur = /**\n         * @return {?}\n         */\n        function () {\n            if (this.ctrInput) {\n                this.ctrInput.nativeElement.blur();\n            }\n            else {\n                this._focus = false;\n            }\n        };\n        /**\n         * @return {?}\n         */\n        CompleterCmp.prototype.isOpen = /**\n         * @return {?}\n         */\n        function () {\n            return this._open;\n        };\n        CompleterCmp.decorators = [\n            { type: core.Component, args: [{\n                        selector: \"ng2-completer\",\n                        template: \"\\n        <div class=\\\"completer-holder\\\" ctrCompleter>\\n            <input #ctrInput [attr.id]=\\\"inputId.length > 0 ? inputId : null\\\" type=\\\"search\\\"\\n                class=\\\"completer-input\\\" ctrInput [ngClass]=\\\"inputClass\\\"\\n                [(ngModel)]=\\\"searchStr\\\" (ngModelChange)=\\\"onChange($event)\\\"\\n                [attr.name]=\\\"inputName\\\" [placeholder]=\\\"placeholder\\\"\\n                [attr.maxlength]=\\\"maxChars\\\" [tabindex]=\\\"fieldTabindex\\\" [disabled]=\\\"disableInput\\\"\\n                [clearSelected]=\\\"clearSelected\\\" [clearUnselected]=\\\"clearUnselected\\\"\\n                [overrideSuggested]=\\\"overrideSuggested\\\" [openOnFocus]=\\\"openOnFocus\\\" [fillHighlighted]=\\\"fillHighlighted\\\"\\n                [openOnClick]=\\\"openOnClick\\\" [selectOnClick]=\\\"selectOnClick\\\" [selectOnFocus]=\\\"selectOnFocus\\\"\\n                (blur)=\\\"onBlur()\\\" (focus)=\\\"onFocus()\\\" (keyup)=\\\"onKeyup($event)\\\"\\n                (keydown)=\\\"onKeydown($event)\\\" (click)=\\\"onClick($event)\\\"\\n                autocomplete=\\\"off\\\" autocorrect=\\\"off\\\" autocapitalize=\\\"off\\\" />\\n\\n            <div class=\\\"completer-dropdown-holder\\\"\\n                *ctrList=\\\"dataService;\\n                    minSearchLength: minSearchLength;\\n                    pause: pause;\\n                    autoMatch: autoMatch;\\n                    initialValue: initialValue;\\n                    autoHighlight: autoHighlight;\\n                    displaySearching: displaySearching;\\n                    let items = results;\\n                    let searchActive = searching;\\n                    let isInitialized = searchInitialized;\\n                    let isOpen = isOpen;\\\">\\n                <div class=\\\"completer-dropdown\\\" ctrDropdown \\n                    *ngIf=\\\"isInitialized && isOpen && (( items?.length > 0|| (displayNoResults && !searchActive)) || (searchActive && displaySearching))\\\">\\n                    <div *ngIf=\\\"searchActive && displaySearching\\\" class=\\\"completer-searching\\\">{{ _textSearching }}</div>\\n                    <div *ngIf=\\\"!searchActive && (!items || items?.length === 0)\\\"\\n                    class=\\\"completer-no-results\\\">{{ _textNoResults }}</div>\\n                    <div class=\\\"completer-row-wrapper\\\" *ngFor=\\\"let item of items; let rowIndex=index\\\">\\n                        <div class=\\\"completer-row\\\" [ctrRow]=\\\"rowIndex\\\" [dataItem]=\\\"item\\\">\\n                            <div *ngIf=\\\"item.image || item.image === ''\\\" class=\\\"completer-image-holder\\\">\\n                                <img *ngIf=\\\"item.image != ''\\\" src=\\\"{{item.image}}\\\" class=\\\"completer-image\\\" />\\n                                <div *ngIf=\\\"item.image === ''\\\" class=\\\"completer-image-default\\\"></div>\\n                            </div>\\n                            <div class=\\\"completer-item-text\\\"\\n                            [ngClass]=\\\"{'completer-item-text-image': item.image || item.image === '' }\\\">\\n                                <completer-list-item\\n                                class=\\\"completer-title\\\" [text]=\\\"item.title\\\" [matchClass]=\\\"matchClass\\\"\\n                                [searchStr]=\\\"searchStr\\\" [type]=\\\"'title'\\\"></completer-list-item>\\n                                <completer-list-item *ngIf=\\\"item.description && item.description != ''\\\"\\n                                class=\\\"completer-description\\\" [text]=\\\"item.description\\\"\\n                                    [matchClass]=\\\"matchClass\\\" [searchStr]=\\\"searchStr\\\" [type]=\\\"'description'\\\">\\n                                </completer-list-item>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    \",\n                        styles: [\"\\n    .completer-dropdown {\\n        border-color: #ececec;\\n        border-width: 1px;\\n        border-style: solid;\\n        border-radius: 2px;\\n        width: 250px;\\n        padding: 6px;\\n        cursor: pointer;\\n        z-index: 9999;\\n        position: absolute;\\n        margin-top: -6px;\\n        background-color: #ffffff;\\n    }\\n\\n    .completer-row {\\n        padding: 5px;\\n        color: #000000;\\n        margin-bottom: 4px;\\n        clear: both;\\n        display: inline-block;\\n        width: 103%;\\n    }\\n\\n    .completer-selected-row {\\n        background-color: lightblue;\\n        color: #ffffff;\\n    }\\n\\n    .completer-description {\\n        font-size: 14px;\\n    }\\n\\n    .completer-image-default {\\n        width: 16px;\\n        height: 16px;\\n        background-image: url(\\\"demo/res/img/default.png\\\");\\n    }\\n\\n    .completer-image-holder {\\n        float: left;\\n        width: 10%;\\n    }\\n    .completer-item-text-image {\\n        float: right;\\n        width: 90%;\\n    }\\n    \"],\n                        providers: [COMPLETER_CONTROL_VALUE_ACCESSOR]\n                    },] },\n        ];\n        /** @nocollapse */\n        CompleterCmp.ctorParameters = function () { return [\n            { type: CompleterService },\n            { type: core.ChangeDetectorRef }\n        ]; };\n        CompleterCmp.propDecorators = {\n            dataService: [{ type: core.Input }],\n            inputName: [{ type: core.Input }],\n            inputId: [{ type: core.Input }],\n            pause: [{ type: core.Input }],\n            minSearchLength: [{ type: core.Input }],\n            maxChars: [{ type: core.Input }],\n            overrideSuggested: [{ type: core.Input }],\n            clearSelected: [{ type: core.Input }],\n            clearUnselected: [{ type: core.Input }],\n            fillHighlighted: [{ type: core.Input }],\n            placeholder: [{ type: core.Input }],\n            matchClass: [{ type: core.Input }],\n            fieldTabindex: [{ type: core.Input }],\n            autoMatch: [{ type: core.Input }],\n            disableInput: [{ type: core.Input }],\n            inputClass: [{ type: core.Input }],\n            autofocus: [{ type: core.Input }],\n            openOnFocus: [{ type: core.Input }],\n            openOnClick: [{ type: core.Input }],\n            selectOnClick: [{ type: core.Input }],\n            selectOnFocus: [{ type: core.Input }],\n            initialValue: [{ type: core.Input }],\n            autoHighlight: [{ type: core.Input }],\n            selected: [{ type: core.Output }],\n            highlighted: [{ type: core.Output }],\n            blurEvent: [{ type: core.Output, args: [\"blur\",] }],\n            click: [{ type: core.Output }],\n            focusEvent: [{ type: core.Output, args: [\"focus\",] }],\n            opened: [{ type: core.Output }],\n            keyup: [{ type: core.Output }],\n            keydown: [{ type: core.Output }],\n            completer: [{ type: core.ViewChild, args: [CtrCompleter,] }],\n            ctrInput: [{ type: core.ViewChild, args: [\"ctrInput\",] }],\n            datasource: [{ type: core.Input }],\n            textNoResults: [{ type: core.Input }],\n            textSearching: [{ type: core.Input }]\n        };\n        return CompleterCmp;\n    }());\n\n    /**\n     * @fileoverview added by tsickle\n     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n     */\n    /** @type {?} */\n    var providers = [\n        CompleterService,\n        LocalDataFactory,\n        RemoteDataFactory\n    ];\n    var Ng2CompleterModule = /** @class */ (function () {\n        function Ng2CompleterModule() {\n        }\n        /**\n         * @return {?}\n         */\n        Ng2CompleterModule.forRoot = /**\n         * @return {?}\n         */\n        function () {\n            return {\n                ngModule: Ng2CompleterModule,\n                providers: providers\n            };\n        };\n        /**\n         * @return {?}\n         */\n        Ng2CompleterModule.forChild = /**\n         * @return {?}\n         */\n        function () {\n            return {\n                ngModule: Ng2CompleterModule,\n                providers: providers\n            };\n        };\n        Ng2CompleterModule.decorators = [\n            { type: core.NgModule, args: [{\n                        declarations: [\n                            CompleterListItemCmp,\n                            CtrCompleter,\n                            CtrDropdown,\n                            CtrInput,\n                            CtrList,\n                            CtrRow,\n                            CompleterCmp\n                        ],\n                        exports: [\n                            CompleterListItemCmp,\n                            CtrCompleter,\n                            CtrDropdown,\n                            CtrInput,\n                            CtrList,\n                            CtrRow,\n                            CompleterCmp\n                        ],\n                        imports: [\n                            common.CommonModule,\n                            forms.FormsModule\n                        ],\n                        providers: providers\n                    },] },\n        ];\n        return Ng2CompleterModule;\n    }());\n\n    exports.LocalData = LocalData;\n    exports.RemoteData = RemoteData;\n    exports.LocalDataFactory = LocalDataFactory;\n    exports.RemoteDataFactory = RemoteDataFactory;\n    exports.CompleterService = CompleterService;\n    exports.CtrCompleter = CtrCompleter;\n    exports.CtrDropdown = CtrDropdown;\n    exports.CtrInput = CtrInput;\n    exports.CtrList = CtrList;\n    exports.CtrRow = CtrRow;\n    exports.CompleterListItemCmp = CompleterListItemCmp;\n    exports.CompleterCmp = CompleterCmp;\n    exports.Ng2CompleterModule = Ng2CompleterModule;\n    exports.ɵa = CtrListContext;\n    exports.ɵb = CompleterBaseData;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=ng2-completer.umd.js.map\n"]}